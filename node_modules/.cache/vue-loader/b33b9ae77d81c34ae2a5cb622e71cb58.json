{"remainingRequest":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/chain/screanshot.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/aquaman_view/src/views/chain/screanshot.vue","mtime":1601261308747},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB3YXZlcyBmcm9tICJAL2RpcmVjdGl2ZS93YXZlcyI7IC8vIHdhdmVzIGRpcmVjdGl2ZQppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvUGFnaW5hdGlvbiI7IC8vIHNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KaW1wb3J0IEF4aW9zIGZyb20gJ2F4aW9zJzsKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNlcnZpY2VfbGlzdCIsCiAgY29tcG9uZW50czogeyBQYWdpbmF0aW9uIH0sCiAgZGlyZWN0aXZlczogeyB3YXZlcyB9LAogIGZpbHRlcnM6IHt9LAogIGFsbG93X2VycjogMCwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVLZXk6IDAsCiAgICAgIHNyY0xpc3Q6IFsKICAgICAgICB7IG5hbWU6ICLmnI3liqHnrqHnkIYiLCB1cmw6IFsiaHR0cDovLzE3Mi4zMS41MC4yNTQvaW1ncy8yYTRlZTIxOTk4NWViN2JiNjI0NjExZjRlM2RiMmQxZS8zNDE1ZWRjOGQ5ZTA2Yzk0NjkwYWM1MDE0YTA3NTQxYi5wbmciXSB9LAogICAgICAgIHsgbmFtZTogIuWIm+W7uuacjeWKoSIsIHVybDogWyJodHRwOi8vMTcyLjMxLjUwLjI1NC9pbWdzLzJhNGVlMjE5OTg1ZWI3YmI2MjQ2MTFmNGUzZGIyZDFlL2ExMGZlMGVmZWNiMzlkY2Y4Yjc5OWM1N2ViMjAwMjYyLnBuZyJdIH0sCiAgICAgICAgeyBuYW1lOiAi6LWE5Lqn566h55CGIiwgdXJsOiBbImh0dHA6Ly8xNzIuMzEuNTAuMjU0L2ltZ3MvMmE0ZWUyMTk5ODVlYjdiYjYyNDYxMWY0ZTNkYjJkMWUvMTEzZWRmNGMwMGQ2YTFmN2FhYjJhYjFiZTEwMTE2NjgucG5nIl0gfQogICAgICBdLAogICAgICB0b3RhbDogMCwKICAgICAgcHJveHlfaW1nOiAiaHR0cDovLzE3Mi4zMS41MC4yNTQvaW1ncy8iLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBwYWdlX25vOiAxLCBwYWdlX3NpemU6IDIwLCBpbmZvOiAic2VsbTIiLCBvbmx5ZXJyOiAxIC8vMeeci+WFqOmDqAogICAgICB9LCAvL+mhteeggeOAgeadoeaVsOOAgeafpeivouWtl+autQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluWIl+ihqAogICAgZ2V0TGlzdCgpIHsKICAgICAgbGV0IGFwaSA9ICJodHRwOi8vMTcyLjMxLjUwLjI1NDo5MjAwL3Rlc3QvX3NlYXJjaCI7CiAgICAgIGxldCBkYXRhID0gewogICAgICAgICJxdWVyeSI6IHsKICAgICAgICAgICJib29sIjogewogICAgICAgICAgICAibXVzdCI6IHsgIm1hdGNoIjogeyAiUHJvamVjdE5hbWUiOiB0aGlzLmxpc3RRdWVyeS5pbmZvIH0gfQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgInNpemUiOiB0aGlzLmxpc3RRdWVyeS5wYWdlX3NpemUKICAgICAgfQogICAgICBpZiAodGhpcy5saXN0UXVlcnkub25seWVyciA9PSAwKSB7IC8v5Y+q55yL6ZSZ6K+vCiAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICJxdWVyeSI6IHsKICAgICAgICAgICAgImJvb2wiOiB7CiAgICAgICAgICAgICAgIm11c3QiOiBbCiAgICAgICAgICAgICAgICB7ICJtYXRjaCI6IHsgIlByb2plY3ROYW1lIjogdGhpcy5saXN0UXVlcnkuaW5mbyB9IH0sCiAgICAgICAgICAgICAgICB7ICJtYXRjaCI6IHsgIlN0YXR1cyI6ICJFcnJvciIgfSB9CiAgICAgICAgICAgICAgXQogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgInNpemUiOiB0aGlzLmxpc3RRdWVyeS5wYWdlX3NpemUKICAgICAgICB9CiAgICAgIH0KICAgICAgQXhpb3MoewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIHVybDogYXBpLAogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIGxldCBhcnJheSA9IHJlcy5kYXRhLmhpdHMuaGl0cwogICAgICAgIHRoaXMuc3JjTGlzdCA9IFtdCiAgICAgICAgbGV0IHRlbXBsaXN0ID0gW10KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBsZXQgaXRlbSA9IGFycmF5W2ldLl9zb3VyY2UKICAgICAgICAgIHRlbXBsaXN0LnB1c2goewogICAgICAgICAgICBuYW1lOiBpdGVtLkZ1bmNOYW1lICsgaXRlbS5NZXNzYWdlLAogICAgICAgICAgICB1cmw6IFt0aGlzLnByb3h5X2ltZyArIGl0ZW0uUHJvamVjdElEICsgIi8iICsgaXRlbS5TY3JlZW5zaG90XQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgdGhpcy5zcmNMaXN0ID0gdGVtcGxpc3QKICAgICAgICB0aGlzLnRvdGFsID0gYXJyYXkubGVuZ3RoCiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsgbWVzc2FnZTogIuayoeacieebuOWFs+iusOW9lSzor7fkv67mlLnmn6Xor6LlhbPplK7or40hIiwgdHlwZTogIndhcm5pbmciLCBkdXJhdGlvbjogNjAwMCB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICAvLyDlhbPplK7or43mn6Xor6IKICAgIGhhbmRsZUZpbHRlcigpIHsKICAgICAgdGhpcy5saXN0UXVlcnkucGFnZV9ubyA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["screanshot.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"screanshot.vue","sourceRoot":"src/views/chain","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input v-model=\"listQuery.info\" placeholder=\"信息检索[项目名|状态]\" style=\"width: 200px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">Search</el-button>\n      <span class=\"err-swicth\">\n        <el-switch v-model=\"listQuery.onlyerr\" active-color=\"#13ce66\" :active-value=\"1\" :inactive-value=\"0\"></el-switch>\n        <span>只看错误/看全部</span>\n      </span>\n    </div>\n\n    <el-carousel :interval=\"5000\" type=\"card\" height=\"600px\">\n      <el-carousel-item v-for=\"(index,item) in srcList\" :key=\"item\">\n        <div style=\"text-align:center\">\n          <span>{{index.name}}</span>\n        </div>\n\n        <h3 class=\"medium\">\n          <el-image style=\"width: 100%; height: 600px\" :src=\"index.url[0]\" alt=\"item.name\" :preview-src-list=\"index.url\" />\n        </h3>\n      </el-carousel-item>\n    </el-carousel>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n  </div>\n</template>\n\n<script>\nimport waves from \"@/directive/waves\"; // waves directive\nimport Pagination from \"@/components/Pagination\"; // secondary package based on el-pagination\nimport Axios from 'axios';\n\n\nexport default {\n  name: \"service_list\",\n  components: { Pagination },\n  directives: { waves },\n  filters: {},\n  allow_err: 0,\n  data() {\n    return {\n      tableKey: 0,\n      srcList: [\n        { name: \"服务管理\", url: [\"http://172.31.50.254/imgs/2a4ee219985eb7bb624611f4e3db2d1e/3415edc8d9e06c94690ac5014a07541b.png\"] },\n        { name: \"创建服务\", url: [\"http://172.31.50.254/imgs/2a4ee219985eb7bb624611f4e3db2d1e/a10fe0efecb39dcf8b799c57eb200262.png\"] },\n        { name: \"资产管理\", url: [\"http://172.31.50.254/imgs/2a4ee219985eb7bb624611f4e3db2d1e/113edf4c00d6a1f7aab2ab1be1011668.png\"] }\n      ],\n      total: 0,\n      proxy_img: \"http://172.31.50.254/imgs/\",\n      listQuery: {\n        page_no: 1, page_size: 20, info: \"selm2\", onlyerr: 1 //1看全部\n      }, //页码、条数、查询字段\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    // 获取列表\n    getList() {\n      let api = \"http://172.31.50.254:9200/test/_search\";\n      let data = {\n        \"query\": {\n          \"bool\": {\n            \"must\": { \"match\": { \"ProjectName\": this.listQuery.info } }\n          }\n        },\n        \"size\": this.listQuery.page_size\n      }\n      if (this.listQuery.onlyerr == 0) { //只看错误\n        data = {\n          \"query\": {\n            \"bool\": {\n              \"must\": [\n                { \"match\": { \"ProjectName\": this.listQuery.info } },\n                { \"match\": { \"Status\": \"Error\" } }\n              ]\n            }\n          },\n          \"size\": this.listQuery.page_size\n        }\n      }\n      Axios({\n        method: 'POST',\n        url: api,\n        data: data\n      }).then(res => {\n        let array = res.data.hits.hits\n        this.srcList = []\n        let templist = []\n        for (let i = 0; i < array.length; i++) {\n          let item = array[i]._source\n          templist.push({\n            name: item.FuncName + item.Message,\n            url: [this.proxy_img + item.ProjectID + \"/\" + item.Screenshot]\n          })\n        }\n        this.srcList = templist\n        this.total = array.length\n        if (array.length == 0) {\n          this.$message({ message: \"没有相关记录,请修改查询关键词!\", type: \"warning\", duration: 6000 })\n        }\n      })\n    },\n    // 关键词查询\n    handleFilter() {\n      this.listQuery.page_no = 1;\n      this.getList();\n    },\n  },\n};\n</script>\n\n<style>\n.el-carousel__item h3 {\n  /* color: #475669; */\n  font-size: 14px;\n  opacity: 0.75;\n  line-height: 600px;\n  margin: 0;\n}\n\n.el-carousel__item:nth-child(2n) {\n  /* background-color: #99a9bf; */\n  background-color: white;\n}\n\n.el-carousel__item:nth-child(2n + 1) {\n  /* background-color: #d3dce6; */\n  background-color: white;\n}\n.err-swicth {\n  float: right;\n  margin-right: 3%;\n  margin-top: 10px;\n  font-size: 16px;\n  color: lightslategray;\n}\n</style>"]}]}