{"remainingRequest":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/auth-tester/task.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/aquaman_view/src/views/auth-tester/task.vue","mtime":1605274594102},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCB7IFVwZGF0ZVRhc2sgfSBmcm9tICJAL2FwaS9tYXJzIjsKaW1wb3J0IHsgQ29uZmlnRGF0YSwgQWRkVGFzaywgVGFza0RldGFpbCwgUHV0VGFzayB9IGZyb20gIkAvYXBpL2F1dGhfdGVzdGVyIgovLyBpbXBvcnQgeyBkYXRlIH0gZnJvbSAnanN6aXAvbGliL2RlZmF1bHRzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0VkaXRQYWdlOiBmYWxzZSwgLy/mmK/liJvlu7rov5jmmK/kv67mlLnku7vliqHnmoTpobXpnaLvvJ8KICAgICAgc3VibWl0QnRuRGlzYWJsZWQ6IGZhbHNlLAogICAgICB0aXRsZTogIuWIm+W7uuS7u+WKoSIsCiAgICAgIGZvcm06IHsKICAgICAgICBhcmdzOiAiIiwKICAgICAgICByZWN1cnNpb246IDAsCiAgICAgICAgdGFyZ2V0X2xpc3Q6ICIiLAogICAgICAgIHRhc2tfbmFtZTogIiIsCiAgICAgICAgc2VydmljZTogW10sCiAgICAgIH0sCiAgICAgIHVzZXJuYW1lX2xpc3Q6ICIiLAogICAgICBwYXNzd29yZF9saXN0OiAiIiwKICAgICAgc2VydmljZV9saXN0OiBbCiAgICAgICAgICAiQVNURVJJU0siLCAiQ0lTQ08iLCAiQ0lTQ08tRU5BQkxFIiwgIkNWUyIsIkZJUkVCSVJEIiwiRlRQIiwiRlRQUyIsIkhUVFBfUFJPWFkiLCJIVFRQX1BST1hZLVVSTEVOVU0iLCJJQ1EiLCJJTUFQIiwiSVJDIiwiTERBUDIiLAogICAgICAgICAgIk1TU1FMIiwiTVlTUUwiLCJOTlRQIiwiT1JBQ0xFLUxJU1RFTkVSIiwiT1JBQ0xFLVNJRCIsIlBDQU5ZV0hFUkUiLCJQQ05GUyIsIlBPUDMiLCJQT1NUR1JFUyIsIlJEUCIsIlJFRElTIiwiUkVYRUMiLCJSTE9HSU4iLCJSU0giLAogICAgICAgICAgIlM3LTMwMCIsIlNJUCIsIlNNQiIsIlNNVFAiLCJTTVRQLUVOVU0iLCJTTk1QIiwiU09DS1M1IiwiU1NIIiwiU1NIS0VZIiwiU1ZOIiwiVEVBTVNQRUFLIiwiVEVMTkVUIiwiVk1BVVRIRCIsIlZOQyIsIlhNUFAiCiAgICAgIF0sCiAgICAgIHRhc2tfaWQ6IHVuZGVmaW5lZCwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhQ2ZnKCkKICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkCiAgICBpZiAoaWQpIHsgLy/ngrnlh7vkv67mlLnpobXpnaLnmoTot7PovaxpZCB1cmnlj4LmlbAoP2lkPTY0KQogICAgICAvLyDlpoLmnpzmnIlpZCzmn6VEQui/m+ihjOi1i+WAvAogICAgICB0aGlzLnRpdGxlID0gIuS/ruaUueS7u+WKoSIKICAgICAgdGhpcy5pc0VkaXRQYWdlID0gdHJ1ZQogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgdGhpcy50YXNrX2lkID0gaWQKICAgICAgdGhpcy5nZXREZXRhaWwoaWQpCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDooajmoLzmoLzlvI/mo4Dmn6UKICAgIGZvcm1DaGVjaygpIHsKICAgICAgaWYgKHRoaXMuZm9ybS50YXNrX25hbWUudHJpbSgpID09ICIiKSB7IHRoaXMuJG1lc3NhZ2UoeyBtZXNzYWdlOiAi5Lu75Yqh5ZCN5b+F5aGrIiwgdHlwZTogIndhcm5pbmciIH0pOyByZXR1cm4gZmFsc2UgfQogICAgICBpZiAodGhpcy5mb3JtLnRhcmdldF9saXN0LnRyaW0oKSA9PSAiIikgeyB0aGlzLiRtZXNzYWdlKHsgbWVzc2FnZTogIuS7u+WKoeebruagh+W/heWhqyIsIHR5cGU6ICJ3YXJuaW5nIiB9KTsgcmV0dXJuIGZhbHNlIH0KICAgICAgaWYgKHRoaXMuZm9ybS5zZXJ2aWNlLmxlbmd0aCA9PSAwKSB7IHRoaXMuJG1lc3NhZ2UoeyBtZXNzYWdlOiAi5Y2P6K6u6Iez5bCR6YCJ5oup5LiA6aG5IiwgdHlwZTogIndhcm5pbmciIH0pOyByZXR1cm4gZmFsc2UgfQogICAgICByZXR1cm4gdHJ1ZQogICAgfSwKICAgIC8vIOWFs+mXreWtkOmhtQogICAgY2xvc2VDaGlsZFBhZ2UoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkKICAgICAgdGhpcy4kc3RvcmUuc3RhdGUudGFnc1ZpZXcudmlzaXRlZFZpZXdzLnNwbGljZSh0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlldy52aXNpdGVkVmlld3MuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5wYXRoID09PSB0aGlzLiRyb3V0ZS5wYXRoKSwgMSkKICAgICAgdGhpcy4kcm91dGVyLnB1c2godGhpcy4kc3RvcmUuc3RhdGUudGFnc1ZpZXcudmlzaXRlZFZpZXdzW3RoaXMuJHN0b3JlLnN0YXRlLnRhZ3NWaWV3LnZpc2l0ZWRWaWV3cy5sZW5ndGggLSAxXS5wYXRoKQogICAgfSwKICAgIC8vIOiOt+WPlumFjee9ruaVsOaNrgogICAgZ2V0RGF0YUNmZygpewogICAgICAgIENvbmZpZ0RhdGEoKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgICB0aGlzLnVzZXJuYW1lX2xpc3QgPSByZXNwb25zZS5kYXRhLnVzZXJuYW1lX2xpc3QgKyBbXQogICAgICAgICAgICB0aGlzLnBhc3N3b3JkX2xpc3QgPSByZXNwb25zZS5kYXRhLnBhc3N3b3JkX2xpc3QgKyBbXQogICAgICAgICAgICB0aGlzLnNlcnZpY2VfbGlzdCA9IHJlc3BvbnNlLmRhdGEuc2VydmljZQogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsgdGl0bGU6ICJGYWlsZWQiLCBtZXNzYWdlOiAi5pyN5Yqh5pyq5b6X5Yiw5ZON5bqUIiwgdHlwZTogImVycm9yIiwgZHVyYXRpb246IDUwMDAsIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmm7TmlrDku7vliqEKICAgIG9uVXBkYXRlKCkgewogICAgICBpZiAoIXRoaXMuZm9ybUNoZWNrKCkpIHsgcmV0dXJuIH0KICAgICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IHRydWUKICAgICAgLy8xLue7hOijheaVsOaNrgogICAgICBsZXQgdGVtcCA9IHRoaXMuZm9ybQogICAgICBsZXQgdGFyZ2V0X2xpc3QgPSB0ZW1wLnRhcmdldF9saXN0LnNwbGl0KCdcbicpCiAgICAgIGxldCB0bGlzdCA9IFtdCiAgICAgIAogICAgICBmb3IgKGxldCBpPTA7IGk8dGFyZ2V0X2xpc3QubGVuZ3RoOyBpKyspewogICAgICAgICAgbGV0IGl0ZW0gPSB0YXJnZXRfbGlzdFtpXS50cmltKCkKICAgICAgICAgIGlmIChpdGVtICE9ICIiKXsKICAgICAgICAgICAgICB0bGlzdC5wdXNoKGl0ZW0pCiAgICAgICAgICB9CiAgICAgIH0KICAgICAgbGV0IHB1dERhdGEgPSB7CiAgICAgICAgdGFza19pZDogdGhpcy50YXNrX2lkLCBhcmdzOiB0ZW1wLmFyZ3MsIHJlY3Vyc2lvbjogdGVtcC5yZWN1cnNpb24sIHRhcmdldF9saXN0OiB0bGlzdCwgdGFza19uYW1lOiB0ZW1wLnRhc2tfbmFtZSwgc2VydmljZTogdGVtcC5zZXJ2aWNlLAogICAgICB9CiAgICAgIC8vMi7osINBUEnmjqXlj6MKICAgICAgUHV0VGFzayhwdXREYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIHRoaXMuc3VibWl0QnRuRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLmNsZWFyRm9ybURhdGEoKTsKICAgICAgICB0aGlzLiRub3RpZnkoeyB0aXRsZTogcmVzcG9uc2UuZGF0YSwgbWVzc2FnZTogIlVwZGF0ZSBTdWNjZXNzZnVsbHkiLCB0eXBlOiAic3VjY2VzcyIsIGR1cmF0aW9uOiA1MDAwfSk7CiAgICAgICAgdGhpcy5jbG9zZUNoaWxkUGFnZSgpCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLnN1Ym1pdEJ0bkRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsgdGl0bGU6ICJGYWlsZWQiLCBtZXNzYWdlOiAiRmFpbGVkIFVwZGF0ZSIsIHR5cGU6ICJlcnJvciIsIGR1cmF0aW9uOiA1MDAwfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5Yib5bu65Lu75YqhCiAgICBvblN1Ym1pdCgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm1DaGVjaygpKSB7IHJldHVybiB9CiAgICAgIHRoaXMuc3VibWl0QnRuRGlzYWJsZWQgPSB0cnVlCiAgICAgIC8vMS7nu4Too4XmlbDmja4KICAgICAgbGV0IHRlbXAgPSB0aGlzLmZvcm0KICAgICAgbGV0IHRhcmdldF9saXN0ID0gdGVtcC50YXJnZXRfbGlzdC5zcGxpdCgnXG4nKQogICAgICBsZXQgdGxpc3QgPSBbXQogICAgICAKICAgICAgZm9yIChsZXQgaT0wOyBpPHRhcmdldF9saXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgIGxldCBpdGVtID0gdGFyZ2V0X2xpc3RbaV0udHJpbSgpCiAgICAgICAgICBpZiAoaXRlbSAhPSAiIil7CiAgICAgICAgICAgICAgdGxpc3QucHVzaChpdGVtKQogICAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIGFyZ3M6IHRlbXAuYXJncywgcmVjdXJzaW9uOiB0ZW1wLnJlY3Vyc2lvbiwgdGFyZ2V0X2xpc3Q6IHRsaXN0LCB0YXNrX25hbWU6IHRlbXAudGFza19uYW1lLCBzZXJ2aWNlOiB0ZW1wLnNlcnZpY2UsCiAgICAgIH0KICAgICAgLy8yLuiwg0FQSeaOpeWPowogICAgICBBZGRUYXNrKGRhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHRoaXMuY2xlYXJGb3JtRGF0YSgpOwogICAgICAgIHRoaXMuJG5vdGlmeSh7IHRpdGxlOiAiU3VjY2VzcyIsIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iICsgcmVzcG9uc2UuZXJybXNnICsgcmVzcG9uc2UuZGF0YS50YXNrX2lkLCB0eXBlOiAic3VjY2VzcyIsIGR1cmF0aW9uOiA1MDAwLCB9KTsKICAgICAgICB0aGlzLmNsb3NlQ2hpbGRQYWdlKCkKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuc3VibWl0QnRuRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB0aGlzLiRub3RpZnkoe3RpdGxlOiAiRmFpbGVkIiwgbWVzc2FnZTogIua3u+WKoOWksei0pSIsIHR5cGU6ICJlcnJvciIsIGR1cmF0aW9uOiA1MDAwfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOaPkOS6pOaIkOWKn+a4heepuuW9k+WJjemhtemdouaVsOaNrgogICAgY2xlYXJGb3JtRGF0YSgpIHsKICAgICAgdGhpcy5mb3JtID0geyBhcmdzOiAiIiwgcmVjdXJzaW9uOiAwLCB0YXJnZXRfbGlzdDogIiIsIHRhc2tfbmFtZTogIiIsIHNlcnZpY2U6IFtdIH0KICAgIH0sCiAgICBnZXREZXRhaWwoaWQpIHsKICAgICAgbGV0IHF1ZXJ5ID0geyB0YXNrX2lkOiBpZCB9CiAgICAgIFRhc2tEZXRhaWwocXVlcnkpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHRoaXMuZm9ybS50YXNrX25hbWUgPSByZXNwb25zZS5kYXRhLnRhc2tfbmFtZTsKICAgICAgICB0aGlzLmZvcm0uc2VydmljZSA9IHJlc3BvbnNlLmRhdGEuc2VydmljZTsKICAgICAgICB0aGlzLmZvcm0uYXJncyA9IHJlc3BvbnNlLmRhdGEuYXJnczsKICAgICAgICB0aGlzLmZvcm0ucmVjdXJzaW9uID0gcmVzcG9uc2UuZGF0YS5yZWN1cnNpb247CiAgICAgICAgZm9yIChsZXQgaT0wO2k8cmVzcG9uc2UuZGF0YS50YXJnZXQubGVuZ3RoO2krKyl7CiAgICAgICAgICAgIHRoaXMuZm9ybS50YXJnZXRfbGlzdCA9IHRoaXMuZm9ybS50YXJnZXRfbGlzdCArIHJlc3BvbnNlLmRhdGEudGFyZ2V0W2ldICsgJ1xuJwogICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm0udGFyZ2V0X2xpc3QpCiAgICAgICAgfQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IHRydWU7CiAgICAgIH0pOwogICAgfSwKICB9Cn0K"},{"version":3,"sources":["task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"task.vue","sourceRoot":"src/views/auth-tester","sourcesContent":["<template>\n  <div class=\"mixin-components-container\">\n    <el-row>\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{title}}</span>\n        </div>\n        <div style=\"margin-bottom:50px;\">\n          <el-form ref=\"form\" :model=\"form\" label-width=\"140px\">\n            <el-form-item label=\"任务名\" class=\"is-required\">\n              <el-input v-model=\"form.task_name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"任务目标\" class=\"is-required\">\n              <el-input type=\"textarea\" v-model=\"form.target_list\" :autosize=\"{ minRows: 3, maxRows: 6}\" placeholder=\"格式:http://example.com,多条换行\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"任务周期\">\n              <el-select v-model=\"form.recursion\" placeholder=\"请选择\" style=\"width:200px\">\n                <el-option label=\"一次\" :value=\"0\"></el-option>\n                <el-option label=\"每天\" :value=\"1\"></el-option>\n                <el-option label=\"每周\" :value=\"7\"></el-option>\n                <el-option label=\"每月\" :value=\"30\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"参数\">\n              <el-input v-model=\"form.args\" placeholder=\"如添加参数如-t 20进行设置线程数、-s 2121设置非默认端口, 具体可看hydra命令参数文档\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"协议选择\">\n              <el-select v-model=\"form.service\" multiple filterable placeholder=\"请选择\" style=\"width:100%\">\n                <el-option v-for=\"(index,item) in service_list\" :key=\"item\" :label=\"index\" :value=\"index\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"账户字典\"> \n                <el-input type=\"textarea\" :rows=\"2\" placeholder=\"null\" v-model=\"username_list\" disabled></el-input> \n            </el-form-item>\n            <el-form-item label=\"密码字典\"> \n                <el-input type=\"textarea\" :rows=\"2\" placeholder=\"null\" v-model=\"password_list\" disabled></el-input> \n            </el-form-item>\n            <el-form-item>\n              <el-button v-if=\"isEditPage\" type=\"danger\" :disabled=\"submitBtnDisabled\" @click=\"onUpdate()\">提交修改</el-button>\n              <el-button v-else type=\"primary\" :disabled=\"submitBtnDisabled\" @click=\"onSubmit()\">立即创建</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-row>\n  </div>\n</template>\n\n<script>\n// import { UpdateTask } from \"@/api/mars\";\nimport { ConfigData, AddTask, TaskDetail, PutTask } from \"@/api/auth_tester\"\n// import { date } from 'jszip/lib/defaults';\nexport default {\n  data() {\n    return {\n      isEditPage: false, //是创建还是修改任务的页面？\n      submitBtnDisabled: false,\n      title: \"创建任务\",\n      form: {\n        args: \"\",\n        recursion: 0,\n        target_list: \"\",\n        task_name: \"\",\n        service: [],\n      },\n      username_list: \"\",\n      password_list: \"\",\n      service_list: [\n          \"ASTERISK\", \"CISCO\", \"CISCO-ENABLE\", \"CVS\",\"FIREBIRD\",\"FTP\",\"FTPS\",\"HTTP_PROXY\",\"HTTP_PROXY-URLENUM\",\"ICQ\",\"IMAP\",\"IRC\",\"LDAP2\",\n          \"MSSQL\",\"MYSQL\",\"NNTP\",\"ORACLE-LISTENER\",\"ORACLE-SID\",\"PCANYWHERE\",\"PCNFS\",\"POP3\",\"POSTGRES\",\"RDP\",\"REDIS\",\"REXEC\",\"RLOGIN\",\"RSH\",\n          \"S7-300\",\"SIP\",\"SMB\",\"SMTP\",\"SMTP-ENUM\",\"SNMP\",\"SOCKS5\",\"SSH\",\"SSHKEY\",\"SVN\",\"TEAMSPEAK\",\"TELNET\",\"VMAUTHD\",\"VNC\",\"XMPP\"\n      ],\n      task_id: undefined,\n    };\n  },\n  created() {\n    this.getDataCfg()\n    let id = this.$route.query.id\n    if (id) { //点击修改页面的跳转id uri参数(?id=64)\n      // 如果有id,查DB进行赋值\n      this.title = \"修改任务\"\n      this.isEditPage = true\n      this.isLoading = true\n      this.task_id = id\n      this.getDetail(id)\n    }\n  },\n  methods: {\n    // 表格格式检查\n    formCheck() {\n      if (this.form.task_name.trim() == \"\") { this.$message({ message: \"任务名必填\", type: \"warning\" }); return false }\n      if (this.form.target_list.trim() == \"\") { this.$message({ message: \"任务目标必填\", type: \"warning\" }); return false }\n      if (this.form.service.length == 0) { this.$message({ message: \"协议至少选择一项\", type: \"warning\" }); return false }\n      return true\n    },\n    // 关闭子页\n    closeChildPage() {\n      this.$router.go(-1)\n      this.$store.state.tagsView.visitedViews.splice(this.$store.state.tagsView.visitedViews.findIndex(item => item.path === this.$route.path), 1)\n      this.$router.push(this.$store.state.tagsView.visitedViews[this.$store.state.tagsView.visitedViews.length - 1].path)\n    },\n    // 获取配置数据\n    getDataCfg(){\n        ConfigData().then((response) => {\n            this.username_list = response.data.username_list + []\n            this.password_list = response.data.password_list + []\n            this.service_list = response.data.service\n            // console.log(response.data)\n      }).catch(() => {\n        this.$notify({ title: \"Failed\", message: \"服务未得到响应\", type: \"error\", duration: 5000, });\n      });\n    },\n    // 更新任务\n    onUpdate() {\n      if (!this.formCheck()) { return }\n      this.submitBtnDisabled = true\n      //1.组装数据\n      let temp = this.form\n      let target_list = temp.target_list.split('\\n')\n      let tlist = []\n      \n      for (let i=0; i<target_list.length; i++){\n          let item = target_list[i].trim()\n          if (item != \"\"){\n              tlist.push(item)\n          }\n      }\n      let putData = {\n        task_id: this.task_id, args: temp.args, recursion: temp.recursion, target_list: tlist, task_name: temp.task_name, service: temp.service,\n      }\n      //2.调API接口\n      PutTask(putData).then((response) => {\n        this.submitBtnDisabled = false;\n        this.clearFormData();\n        this.$notify({ title: response.data, message: \"Update Successfully\", type: \"success\", duration: 5000});\n        this.closeChildPage()\n      }).catch(() => {\n        this.submitBtnDisabled = false;\n        this.$notify({ title: \"Failed\", message: \"Failed Update\", type: \"error\", duration: 5000});\n      });\n    },\n    //创建任务\n    onSubmit() {\n      if (!this.formCheck()) { return }\n      this.submitBtnDisabled = true\n      //1.组装数据\n      let temp = this.form\n      let target_list = temp.target_list.split('\\n')\n      let tlist = []\n      \n      for (let i=0; i<target_list.length; i++){\n          let item = target_list[i].trim()\n          if (item != \"\"){\n              tlist.push(item)\n          }\n      }\n      let data = {\n        args: temp.args, recursion: temp.recursion, target_list: tlist, task_name: temp.task_name, service: temp.service,\n      }\n      //2.调API接口\n      AddTask(data).then((response) => {\n        this.submitBtnDisabled = false;\n        this.clearFormData();\n        this.$notify({ title: \"Success\", message: \"添加成功\" + response.errmsg + response.data.task_id, type: \"success\", duration: 5000, });\n        this.closeChildPage()\n      }).catch(() => {\n        this.submitBtnDisabled = false;\n        this.$notify({title: \"Failed\", message: \"添加失败\", type: \"error\", duration: 5000});\n      });\n    },\n    // 提交成功清空当前页面数据\n    clearFormData() {\n      this.form = { args: \"\", recursion: 0, target_list: \"\", task_name: \"\", service: [] }\n    },\n    getDetail(id) {\n      let query = { task_id: id }\n      TaskDetail(query).then((response) => {\n        this.submitBtnDisabled = false;\n        this.form.task_name = response.data.task_name;\n        this.form.service = response.data.service;\n        this.form.args = response.data.args;\n        this.form.recursion = response.data.recursion;\n        for (let i=0;i<response.data.target.length;i++){\n            this.form.target_list = this.form.target_list + response.data.target[i] + '\\n'\n            console.log(this.form.target_list)\n        }\n      }).catch(() => {\n        this.submitBtnDisabled = true;\n      });\n    },\n  }\n}\n</script>\n\n<style>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.text {\n  font-size: 14px;\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card-in {\n  width: 60%;\n}\n.dump-box {\n  font-weight: 700;\n  color: #606266;\n}\n</style>"]}]}