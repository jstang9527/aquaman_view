{"remainingRequest":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/auth-tester/task.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/aquaman_view/src/views/auth-tester/task.vue","mtime":1601436512752},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFVwZGF0ZVRhc2sgfSBmcm9tICJAL2FwaS9tYXJzIjsKaW1wb3J0IHsgQ29uZmlnRGF0YSwgQWRkVGFzaywgVGFza0RldGFpbCB9IGZyb20gIkAvYXBpL2F1dGhfdGVzdGVyIgppbXBvcnQgeyBkYXRlIH0gZnJvbSAnanN6aXAvbGliL2RlZmF1bHRzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0VkaXRQYWdlOiBmYWxzZSwgLy/mmK/liJvlu7rov5jmmK/kv67mlLnku7vliqHnmoTpobXpnaLvvJ8KICAgICAgc3VibWl0QnRuRGlzYWJsZWQ6IGZhbHNlLAogICAgICB0aXRsZTogIuWIm+W7uuS7u+WKoSIsCiAgICAgIGZvcm06IHsKICAgICAgICBhcmdzOiAiIiwKICAgICAgICByZWN1cnNpb246IDAsCiAgICAgICAgdGFyZ2V0X2xpc3Q6ICIiLAogICAgICAgIHRhc2tfbmFtZTogIiIsCiAgICAgICAgc2VydmljZTogW10sCiAgICAgIH0sCiAgICAgIHVzZXJuYW1lX2xpc3Q6ICIiLAogICAgICBwYXNzd29yZF9saXN0OiAiIiwKICAgICAgc2VydmljZV9saXN0OiBbCiAgICAgICAgICAiQVNURVJJU0siLCAiQ0lTQ08iLCAiQ0lTQ08tRU5BQkxFIiwgIkNWUyIsIkZJUkVCSVJEIiwiRlRQIiwiRlRQUyIsIkhUVFBfUFJPWFkiLCJIVFRQX1BST1hZLVVSTEVOVU0iLCJJQ1EiLCJJTUFQIiwiSVJDIiwiTERBUDIiLAogICAgICAgICAgIk1TU1FMIiwiTVlTUUwiLCJOTlRQIiwiT1JBQ0xFLUxJU1RFTkVSIiwiT1JBQ0xFLVNJRCIsIlBDQU5ZV0hFUkUiLCJQQ05GUyIsIlBPUDMiLCJQT1NUR1JFUyIsIlJEUCIsIlJFRElTIiwiUkVYRUMiLCJSTE9HSU4iLCJSU0giLAogICAgICAgICAgIlM3LTMwMCIsIlNJUCIsIlNNQiIsIlNNVFAiLCJTTVRQLUVOVU0iLCJTTk1QIiwiU09DS1M1IiwiU1NIIiwiU1NIS0VZIiwiU1ZOIiwiVEVBTVNQRUFLIiwiVEVMTkVUIiwiVk1BVVRIRCIsIlZOQyIsIlhNUFAiCiAgICAgIF0sCiAgICAgIHRhc2tfaWQ6IHVuZGVmaW5lZCwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhQ2ZnKCkKICAgIGxldCBpZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkCiAgICBpZiAoaWQpIHsgLy/ngrnlh7vkv67mlLnpobXpnaLnmoTot7PovaxpZCB1cmnlj4LmlbAoP2lkPTY0KQogICAgICAvLyDlpoLmnpzmnIlpZCzmn6VEQui/m+ihjOi1i+WAvAogICAgICB0aGlzLnRpdGxlID0gIuS/ruaUueS7u+WKoSIKICAgICAgdGhpcy5pc0VkaXRQYWdlID0gdHJ1ZQogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWUKICAgICAgdGhpcy50YXNrX2lkID0gTnVtYmVyKGlkKQogICAgICB0aGlzLmdldERldGFpbChpZCkKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOihqOagvOagvOW8j+ajgOafpQogICAgZm9ybUNoZWNrKCkgewogICAgICBpZiAodGhpcy5mb3JtLnRhc2tfbmFtZS50cmltKCkgPT0gIiIpIHsgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6ICLku7vliqHlkI3lv4XloasiLCB0eXBlOiAid2FybmluZyIgfSk7IHJldHVybiBmYWxzZSB9CiAgICAgIGlmICh0aGlzLmZvcm0udGFyZ2V0X2xpc3QudHJpbSgpID09ICIiKSB7IHRoaXMuJG1lc3NhZ2UoeyBtZXNzYWdlOiAi5Lu75Yqh55uu5qCH5b+F5aGrIiwgdHlwZTogIndhcm5pbmciIH0pOyByZXR1cm4gZmFsc2UgfQogICAgICBpZiAodGhpcy5mb3JtLnNlcnZpY2UubGVuZ3RoID09IDApIHsgdGhpcy4kbWVzc2FnZSh7IG1lc3NhZ2U6ICLljY/orq7oh7PlsJHpgInmi6nkuIDpobkiLCB0eXBlOiAid2FybmluZyIgfSk7IHJldHVybiBmYWxzZSB9CiAgICAgIHJldHVybiB0cnVlCiAgICB9LAogICAgLy8g5YWz6Zet5a2Q6aG1CiAgICBjbG9zZUNoaWxkUGFnZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKQogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlldy52aXNpdGVkVmlld3Muc3BsaWNlKHRoaXMuJHN0b3JlLnN0YXRlLnRhZ3NWaWV3LnZpc2l0ZWRWaWV3cy5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLnBhdGggPT09IHRoaXMuJHJvdXRlLnBhdGgpLCAxKQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlldy52aXNpdGVkVmlld3NbdGhpcy4kc3RvcmUuc3RhdGUudGFnc1ZpZXcudmlzaXRlZFZpZXdzLmxlbmd0aCAtIDFdLnBhdGgpCiAgICB9LAogICAgLy8g6I635Y+W6YWN572u5pWw5o2uCiAgICBnZXREYXRhQ2ZnKCl7CiAgICAgICAgQ29uZmlnRGF0YSgpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIHRoaXMudXNlcm5hbWVfbGlzdCA9IHJlc3BvbnNlLmRhdGEudXNlcm5hbWVfbGlzdCArIFtdCiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfbGlzdCA9IHJlc3BvbnNlLmRhdGEucGFzc3dvcmRfbGlzdCArIFtdCiAgICAgICAgICAgIHRoaXMuc2VydmljZV9saXN0ID0gcmVzcG9uc2UuZGF0YS5zZXJ2aWNlCiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLiRub3RpZnkoeyB0aXRsZTogIkZhaWxlZCIsIG1lc3NhZ2U6ICLmnI3liqHmnKrlvpfliLDlk43lupQiLCB0eXBlOiAiZXJyb3IiLCBkdXJhdGlvbjogNTAwMCwgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOabtOaWsOS7u+WKoQogICAgb25VcGRhdGUoKSB7CiAgICAgIGlmICghdGhpcy5mb3JtQ2hlY2soKSkgeyByZXR1cm4gfQogICAgICB0aGlzLnN1Ym1pdEJ0bkRpc2FibGVkID0gdHJ1ZQogICAgICAvLzEu57uE6KOF5pWw5o2uCiAgICAgIGxldCBwdXREYXRhID0ge30KICAgICAgdGhpcy4kbm90aWZ5KHsgdGl0bGU6ICJXYXJuaW5nIiwgbWVzc2FnZTogIuaOpeWPo+acquWunueOsCwg6K+35paw5bu65Lu75YqhIiwgdHlwZTogIndhcm5pbmciLCBkdXJhdGlvbjogODAwMCwgfSk7CiAgICAgIC8vMi7osINBUEnmjqXlj6MKICAgIC8vICAgVXBkYXRlVGFzayhwdXREYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgLy8gICAgIHRoaXMuc3VibWl0QnRuRGlzYWJsZWQgPSBmYWxzZTsKICAgIC8vICAgICB0aGlzLmNsZWFyRm9ybURhdGEoKTsKICAgIC8vICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKQogICAgLy8gICAgIHRoaXMuJG5vdGlmeSh7IHRpdGxlOiByZXNwb25zZS5kYXRhLCBtZXNzYWdlOiAi5pu05paw5oiQ5YqfIFtpZDogIiArIHRoaXMudGFza19pZCArICIgXSIsIHR5cGU6ICJzdWNjZXNzIiwgZHVyYXRpb246IDUwMDAsIH0pOwogICAgLy8gICAgIHRoaXMuY2xvc2VDaGlsZFBhZ2UoKQogICAgLy8gICB9KS5jYXRjaCgoKSA9PiB7CiAgICAvLyAgICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IGZhbHNlOwogICAgLy8gICAgIHRoaXMuJG5vdGlmeSh7IHRpdGxlOiAiRmFpbGVkIiwgbWVzc2FnZTogIuabtOaWsOWksei0pSBbaWQ6ICIgKyB0aGlzLnRhc2tfaWQgKyAiIF0iLCB0eXBlOiAiZXJyb3IiLCBkdXJhdGlvbjogNTAwMCwgfSk7CiAgICAvLyAgIH0pOwogICAgfSwKICAgIC8v5Yib5bu65Lu75YqhCiAgICBvblN1Ym1pdCgpIHsKICAgICAgaWYgKCF0aGlzLmZvcm1DaGVjaygpKSB7IHJldHVybiB9CiAgICAgIHRoaXMuc3VibWl0QnRuRGlzYWJsZWQgPSB0cnVlCiAgICAgIC8vMS7nu4Too4XmlbDmja4KICAgICAgbGV0IHRlbXAgPSB0aGlzLmZvcm0KICAgICAgbGV0IHRhcmdldF9saXN0ID0gdGVtcC50YXJnZXRfbGlzdC5zcGxpdCgnXG4nKQogICAgICBsZXQgdGxpc3QgPSBbXQogICAgICAKICAgICAgZm9yIChsZXQgaT0wOyBpPHRhcmdldF9saXN0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgIGxldCBpdGVtID0gdGFyZ2V0X2xpc3RbaV0udHJpbSgpCiAgICAgICAgICBpZiAoaXRlbSAhPSAiIil7CiAgICAgICAgICAgICAgdGxpc3QucHVzaChpdGVtKQogICAgICAgICAgfQogICAgICB9CiAgICAgIGxldCBkYXRhID0gewogICAgICAgIGFyZ3M6IHRlbXAuYXJncywgcmVjdXJzaW9uOiB0ZW1wLnJlY3Vyc2lvbiwgdGFyZ2V0X2xpc3Q6IHRsaXN0LCBwYXNzd29yZF9saXN0OiB0aGlzLnBhc3N3b3JkX2xpc3QsCiAgICAgICAgdGFza19uYW1lOiB0ZW1wLnRhc2tfbmFtZSwgc2VydmljZTogdGVtcC5zZXJ2aWNlLCB1c2VybmFtZV9saXN0OiB0aGlzLnVzZXJuYW1lX2xpc3QKICAgICAgfQogICAgICAvLzIu6LCDQVBJ5o6l5Y+jCiAgICAgIEFkZFRhc2soZGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnN1Ym1pdEJ0bkRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5jbGVhckZvcm1EYXRhKCk7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsgdGl0bGU6ICJTdWNjZXNzIiwgbWVzc2FnZTogIua3u+WKoOaIkOWKnyIgKyByZXNwb25zZS5lcnJtc2cgKyByZXNwb25zZS5kYXRhLnRhc2tfaWQsIHR5cGU6ICJzdWNjZXNzIiwgZHVyYXRpb246IDUwMDAsIH0pOwogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIHRoaXMuJG5vdGlmeSh7dGl0bGU6ICJGYWlsZWQiLCBtZXNzYWdlOiAi5re75Yqg5aSx6LSlIiwgdHlwZTogImVycm9yIiwgZHVyYXRpb246IDUwMDB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q5Lqk5oiQ5Yqf5riF56m65b2T5YmN6aG16Z2i5pWw5o2uCiAgICBjbGVhckZvcm1EYXRhKCkgewogICAgICB0aGlzLmZvcm0gPSB7IGFyZ3M6ICIiLCByZWN1cnNpb246IDAsIHRhcmdldF9saXN0OiAiIiwgdGFza19uYW1lOiAiIiwgc2VydmljZTogW10gfQogICAgfSwKICAgIGdldERldGFpbChpZCkgewogICAgICBsZXQgcXVlcnkgPSB7IHRhc2tfaWQ6IGlkIH0KICAgICAgVGFza0RldGFpbChxdWVyeSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICB0aGlzLnN1Ym1pdEJ0bkRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgdGhpcy5mb3JtLnRhc2tfbmFtZSA9IHJlc3BvbnNlLmRhdGEudGFza19uYW1lOwogICAgICAgIHRoaXMuZm9ybS5zZXJ2aWNlID0gcmVzcG9uc2UuZGF0YS5zZXJ2aWNlOwogICAgICAgIHRoaXMuZm9ybS5hcmdzID0gcmVzcG9uc2UuZGF0YS5hcmdzOwogICAgICAgIHRoaXMuZm9ybS5yZWN1cnNpb24gPSByZXNwb25zZS5kYXRhLnJlY3Vyc2lvbjsKICAgICAgICBmb3IgKGxldCBpPTA7aTxyZXNwb25zZS5kYXRhLnRhcmdldC5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgdGhpcy5mb3JtLnRhcmdldF9saXN0ID0gdGhpcy5mb3JtLnRhcmdldF9saXN0ICsgcmVzcG9uc2UuZGF0YS50YXJnZXRbaV0gKyAnXG4nCiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybS50YXJnZXRfbGlzdCkKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICB0aGlzLnN1Ym1pdEJ0bkRpc2FibGVkID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogIH0KfQo="},{"version":3,"sources":["task.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"task.vue","sourceRoot":"src/views/auth-tester","sourcesContent":["<template>\n  <div class=\"mixin-components-container\">\n    <el-row>\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{title}}</span>\n        </div>\n        <div style=\"margin-bottom:50px;\">\n          <el-form ref=\"form\" :model=\"form\" label-width=\"140px\">\n            <el-form-item label=\"任务名\" class=\"is-required\">\n              <el-input v-model=\"form.task_name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"任务目标\" class=\"is-required\">\n              <el-input type=\"textarea\" v-model=\"form.target_list\" :autosize=\"{ minRows: 3, maxRows: 6}\" placeholder=\"格式:http://example.com,多条换行\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"任务周期\">\n              <el-select v-model=\"form.recursion\" placeholder=\"请选择\" style=\"width:200px\">\n                <el-option label=\"一次\" :value=\"0\"></el-option>\n                <el-option label=\"每天\" :value=\"1\"></el-option>\n                <el-option label=\"每周\" :value=\"7\"></el-option>\n                <el-option label=\"每月\" :value=\"30\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"参数\">\n              <el-input v-model=\"form.args\" placeholder=\"如添加参数如-t 20进行设置线程数, 具体可看hydra命令参数文档\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"协议选择\">\n              <el-select v-model=\"form.service\" multiple placeholder=\"请选择\" style=\"width:100%\">\n                <el-option v-for=\"(index,item) in service_list\" :key=\"item\" :label=\"index\" :value=\"index\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"账户字典\"> \n                <el-input type=\"textarea\" :rows=\"2\" placeholder=\"null\" v-model=\"username_list\" disabled></el-input> \n            </el-form-item>\n            <el-form-item label=\"密码字典\"> \n                <el-input type=\"textarea\" :rows=\"2\" placeholder=\"null\" v-model=\"password_list\" disabled></el-input> \n            </el-form-item>\n            <el-form-item>\n              <el-button v-if=\"isEditPage\" type=\"danger\" :disabled=\"submitBtnDisabled\" @click=\"onUpdate()\">提交修改</el-button>\n              <el-button v-else type=\"primary\" :disabled=\"submitBtnDisabled\" @click=\"onSubmit()\">立即创建</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { UpdateTask } from \"@/api/mars\";\nimport { ConfigData, AddTask, TaskDetail } from \"@/api/auth_tester\"\nimport { date } from 'jszip/lib/defaults';\nexport default {\n  data() {\n    return {\n      isEditPage: false, //是创建还是修改任务的页面？\n      submitBtnDisabled: false,\n      title: \"创建任务\",\n      form: {\n        args: \"\",\n        recursion: 0,\n        target_list: \"\",\n        task_name: \"\",\n        service: [],\n      },\n      username_list: \"\",\n      password_list: \"\",\n      service_list: [\n          \"ASTERISK\", \"CISCO\", \"CISCO-ENABLE\", \"CVS\",\"FIREBIRD\",\"FTP\",\"FTPS\",\"HTTP_PROXY\",\"HTTP_PROXY-URLENUM\",\"ICQ\",\"IMAP\",\"IRC\",\"LDAP2\",\n          \"MSSQL\",\"MYSQL\",\"NNTP\",\"ORACLE-LISTENER\",\"ORACLE-SID\",\"PCANYWHERE\",\"PCNFS\",\"POP3\",\"POSTGRES\",\"RDP\",\"REDIS\",\"REXEC\",\"RLOGIN\",\"RSH\",\n          \"S7-300\",\"SIP\",\"SMB\",\"SMTP\",\"SMTP-ENUM\",\"SNMP\",\"SOCKS5\",\"SSH\",\"SSHKEY\",\"SVN\",\"TEAMSPEAK\",\"TELNET\",\"VMAUTHD\",\"VNC\",\"XMPP\"\n      ],\n      task_id: undefined,\n    };\n  },\n  created() {\n    this.getDataCfg()\n    let id = this.$route.query.id\n    if (id) { //点击修改页面的跳转id uri参数(?id=64)\n      // 如果有id,查DB进行赋值\n      this.title = \"修改任务\"\n      this.isEditPage = true\n      this.isLoading = true\n      this.task_id = Number(id)\n      this.getDetail(id)\n    }\n  },\n  methods: {\n    // 表格格式检查\n    formCheck() {\n      if (this.form.task_name.trim() == \"\") { this.$message({ message: \"任务名必填\", type: \"warning\" }); return false }\n      if (this.form.target_list.trim() == \"\") { this.$message({ message: \"任务目标必填\", type: \"warning\" }); return false }\n      if (this.form.service.length == 0) { this.$message({ message: \"协议至少选择一项\", type: \"warning\" }); return false }\n      return true\n    },\n    // 关闭子页\n    closeChildPage() {\n      this.$router.go(-1)\n      this.$store.state.tagsView.visitedViews.splice(this.$store.state.tagsView.visitedViews.findIndex(item => item.path === this.$route.path), 1)\n      this.$router.push(this.$store.state.tagsView.visitedViews[this.$store.state.tagsView.visitedViews.length - 1].path)\n    },\n    // 获取配置数据\n    getDataCfg(){\n        ConfigData().then((response) => {\n            this.username_list = response.data.username_list + []\n            this.password_list = response.data.password_list + []\n            this.service_list = response.data.service\n            // console.log(response.data)\n      }).catch(() => {\n        this.$notify({ title: \"Failed\", message: \"服务未得到响应\", type: \"error\", duration: 5000, });\n      });\n    },\n    // 更新任务\n    onUpdate() {\n      if (!this.formCheck()) { return }\n      this.submitBtnDisabled = true\n      //1.组装数据\n      let putData = {}\n      this.$notify({ title: \"Warning\", message: \"接口未实现, 请新建任务\", type: \"warning\", duration: 8000, });\n      //2.调API接口\n    //   UpdateTask(putData).then((response) => {\n    //     this.submitBtnDisabled = false;\n    //     this.clearFormData();\n    //     console.log(response.data)\n    //     this.$notify({ title: response.data, message: \"更新成功 [id: \" + this.task_id + \" ]\", type: \"success\", duration: 5000, });\n    //     this.closeChildPage()\n    //   }).catch(() => {\n    //     this.submitBtnDisabled = false;\n    //     this.$notify({ title: \"Failed\", message: \"更新失败 [id: \" + this.task_id + \" ]\", type: \"error\", duration: 5000, });\n    //   });\n    },\n    //创建任务\n    onSubmit() {\n      if (!this.formCheck()) { return }\n      this.submitBtnDisabled = true\n      //1.组装数据\n      let temp = this.form\n      let target_list = temp.target_list.split('\\n')\n      let tlist = []\n      \n      for (let i=0; i<target_list.length; i++){\n          let item = target_list[i].trim()\n          if (item != \"\"){\n              tlist.push(item)\n          }\n      }\n      let data = {\n        args: temp.args, recursion: temp.recursion, target_list: tlist, password_list: this.password_list,\n        task_name: temp.task_name, service: temp.service, username_list: this.username_list\n      }\n      //2.调API接口\n      AddTask(data).then((response) => {\n        this.submitBtnDisabled = false;\n        this.clearFormData();\n        this.$notify({ title: \"Success\", message: \"添加成功\" + response.errmsg + response.data.task_id, type: \"success\", duration: 5000, });\n      }).catch(() => {\n        this.submitBtnDisabled = false;\n        this.$notify({title: \"Failed\", message: \"添加失败\", type: \"error\", duration: 5000});\n      });\n    },\n    // 提交成功清空当前页面数据\n    clearFormData() {\n      this.form = { args: \"\", recursion: 0, target_list: \"\", task_name: \"\", service: [] }\n    },\n    getDetail(id) {\n      let query = { task_id: id }\n      TaskDetail(query).then((response) => {\n        this.submitBtnDisabled = false;\n        this.form.task_name = response.data.task_name;\n        this.form.service = response.data.service;\n        this.form.args = response.data.args;\n        this.form.recursion = response.data.recursion;\n        for (let i=0;i<response.data.target.length;i++){\n            this.form.target_list = this.form.target_list + response.data.target[i] + '\\n'\n            console.log(this.form.target_list)\n        }\n      }).catch(() => {\n        this.submitBtnDisabled = true;\n      });\n    },\n  }\n}\n</script>\n\n<style>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.text {\n  font-size: 14px;\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card-in {\n  width: 60%;\n}\n.dump-box {\n  font-weight: 700;\n  color: #606266;\n}\n</style>"]}]}