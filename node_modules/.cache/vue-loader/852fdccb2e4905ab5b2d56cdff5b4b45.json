{"remainingRequest":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/dashboard/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/aquaman_view/src/views/dashboard/index.vue","mtime":1605441476690},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQYW5lbEdyb3VwIGZyb20gJy4vY29tcG9uZW50cy9QYW5lbEdyb3VwJwppbXBvcnQgTGluZUNoYXJ0IGZyb20gJy4vY29tcG9uZW50cy9MaW5lQ2hhcnQnCmltcG9ydCBQaWVDaGFydCBmcm9tICcuL2NvbXBvbmVudHMvUGllQ2hhcnQnCmltcG9ydCB7IERhc2hib2FyZERhdGEgfSBmcm9tICdAL2FwaS9kYXNoYm9hcmQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Rhc2hib2FyZEFkbWluJywKICBjb21wb25lbnRzOiB7CiAgICBQYW5lbEdyb3VwLAogICAgTGluZUNoYXJ0LAogICAgUGllQ2hhcnQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYW5lbEdyb3VwRGF0YTogewogICAgICAgICdzZXJ2aWNlTnVtJzogMjMsIC8vIOa8j+a0nuWogeiDgQogICAgICAgICd0b2RheVJlcXVlc3ROdW0nOiAxMjAwLCAvL+aPkuS7tuaVsOmHjwogICAgICAgICdjdXJyZW50UXBzJzogMjAwLCAvL+W8seWPo+S7pAogICAgICAgICdhcHBOdW0nOiA1IC8v6LWE5Lqn57uf6K6hCiAgICAgIH0sCiAgICAgIGxpbmVDaGFydERhdGE6IHsKICAgICAgICAndGl0bGUnOiAn5LuK5pel5rWB6YeP57uf6K6hJywKICAgICAgICAndG9kYXknOiBbXSwKICAgICAgICAneWVzdGVyZGF5JzogW10KICAgICAgfSwKICAgICAgcGllQ2hhcnREYXRhOiB7CiAgICAgICAgJ3RpdGxlJzogJ+W8seWPo+S7pCcsCiAgICAgICAgJ2xlZ2VuZCc6IFsnc3NoJywncmRwJywnZXMnXSwKICAgICAgICAnc2VyaWVzJzogWwogICAgICAgICAgICB7IHZhbHVlOiAzMjAsIG5hbWU6ICdzc2gnIH0sCiAgICAgICAgICAgIHsgdmFsdWU6IDI0MCwgbmFtZTogJ3JkcCcgfSwKICAgICAgICAgICAgeyB2YWx1ZTogMTQ5LCBuYW1lOiAnZXMnIH0sCiAgICAgICAgXQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoKQogICAgLy8gdGhpcy5mZXRjaFBhbmVsR3JvdXBEYXRhKCkKICAgIC8vIHRoaXMuZmV0Y2hGbG93U3RhdCgpCiAgICAvLyB0aGlzLmZldGNoU2VydmljZVN0YXQoKQogIH0sCiAgbWV0aG9kczogewogICAgZmV0Y2hEYXRhKCl7CiAgICAgIERhc2hib2FyZERhdGEoKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICB0aGlzLnBhbmVsR3JvdXBEYXRhID0gewogICAgICAgICAgJ3NlcnZpY2VOdW0nOiBkYXRhLnZ1bF9jb3VudCwKICAgICAgICAgICd0b2RheVJlcXVlc3ROdW0nOiBkYXRhLnBsdWdpbl9jb3VudCwKICAgICAgICAgICdjdXJyZW50UXBzJzogZGF0YS5hc3NldF9jb3VudCwKICAgICAgICAgICdhcHBOdW0nOiBkYXRhLnRhc2tfY291bnQKICAgICAgICB9CiAgICAgICAgdGhpcy5saW5lQ2hhcnREYXRhID0gewogICAgICAgICAgJ3RpdGxlJzogJ+S7u+WKoee7n+iuoScsCiAgICAgICAgICAndG9kYXknOiBkYXRhLnRhc2tzX25vdywKICAgICAgICAgICd5ZXN0ZXJkYXknOiBkYXRhLnRhc2tzX29sZAogICAgICAgIH0KICAgICAgICB0aGlzLnBpZUNoYXJ0RGF0YSA9IHsKICAgICAgICAgICd0aXRsZSc6ICfmvI/mtJ7nsbvlnosnLAogICAgICAgICAgJ2xlZ2VuZCc6IGRhdGEubGVnZW5kLAogICAgICAgICAgJ3Nlcmllcyc6IGRhdGEuc2VyaWVzCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIGZldGNoUGFuZWxHcm91cERhdGEoKSB7CiAgICAgIC8vIHBhbmVsR3JvdXBEYXRhKHsgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIC8vICAgdGhpcy5wYW5lbEdyb3VwRGF0YSA9IHJlc3BvbnNlLmRhdGEKICAgICAgLy8gfSkuY2F0Y2goKCkgPT4gewogICAgICAvLyB9KQogICAgfSwKICAgIGZldGNoRmxvd1N0YXQoKSB7CiAgICAgIC8vIGZsb3dTdGF0KHsgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIC8vICAgdGhpcy5saW5lQ2hhcnREYXRhLnRvZGF5ID0gcmVzcG9uc2UuZGF0YS50b2RheQogICAgICAvLyAgIHRoaXMubGluZUNoYXJ0RGF0YS55ZXN0ZXJkYXkgPSByZXNwb25zZS5kYXRhLnllc3RlcmRheQogICAgICAvLyB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIC8vIH0pCiAgICB9LAogICAgZmV0Y2hTZXJ2aWNlU3RhdCgpIHsKICAgICAgLy8gc2VydmljZVN0YXQoeyB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgLy8gICB0aGlzLnBpZUNoYXJ0RGF0YS5sZWdlbmQgPSByZXNwb25zZS5kYXRhLmxlZ2VuZAogICAgICAvLyAgIHRoaXMucGllQ2hhcnREYXRhLnNlcmllcyA9IHJlc3BvbnNlLmRhdGEuZGF0YQogICAgICAvLyB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIC8vIH0pCiAgICB9LAogICAgaGFuZGxlU2V0TGluZUNoYXJ0RGF0YSgpIHsKICAgICAgLy8gdGhpcy5saW5lQ2hhcnREYXRhID0gbGluZUNoYXJ0RGF0YVt0eXBlXQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <div class=\"dashboard-editor-container\">\n    <panel-group :data=\"panelGroupData\" />\n    <el-row :gutter=\"32\">\n      <el-col :xs=\"24\" :sm=\"24\" :lg=\"16\">\n        <div class=\"chart-wrapper\">\n          <line-chart :chart-data=\"lineChartData\" />\n        </div>\n      </el-col>\n      <el-col :xs=\"24\" :sm=\"24\" :lg=\"8\">\n        <div class=\"chart-wrapper\">\n          <pie-chart :chart-data=\"pieChartData\" />\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport PanelGroup from './components/PanelGroup'\nimport LineChart from './components/LineChart'\nimport PieChart from './components/PieChart'\nimport { DashboardData } from '@/api/dashboard'\n\nexport default {\n  name: 'DashboardAdmin',\n  components: {\n    PanelGroup,\n    LineChart,\n    PieChart\n  },\n  data() {\n    return {\n      panelGroupData: {\n        'serviceNum': 23, // 漏洞威胁\n        'todayRequestNum': 1200, //插件数量\n        'currentQps': 200, //弱口令\n        'appNum': 5 //资产统计\n      },\n      lineChartData: {\n        'title': '今日流量统计',\n        'today': [],\n        'yesterday': []\n      },\n      pieChartData: {\n        'title': '弱口令',\n        'legend': ['ssh','rdp','es'],\n        'series': [\n            { value: 320, name: 'ssh' },\n            { value: 240, name: 'rdp' },\n            { value: 149, name: 'es' },\n        ]\n      }\n    }\n  },\n  created() {\n    this.fetchData()\n    // this.fetchPanelGroupData()\n    // this.fetchFlowStat()\n    // this.fetchServiceStat()\n  },\n  methods: {\n    fetchData(){\n      DashboardData().then((response)=>{\n        let data = response.data\n        this.panelGroupData = {\n          'serviceNum': data.vul_count,\n          'todayRequestNum': data.plugin_count,\n          'currentQps': data.asset_count,\n          'appNum': data.task_count\n        }\n        this.lineChartData = {\n          'title': '任务统计',\n          'today': data.tasks_now,\n          'yesterday': data.tasks_old\n        }\n        this.pieChartData = {\n          'title': '漏洞类型',\n          'legend': data.legend,\n          'series': data.series\n        }\n      })\n    },\n    fetchPanelGroupData() {\n      // panelGroupData({ }).then(response => {\n      //   this.panelGroupData = response.data\n      // }).catch(() => {\n      // })\n    },\n    fetchFlowStat() {\n      // flowStat({ }).then(response => {\n      //   this.lineChartData.today = response.data.today\n      //   this.lineChartData.yesterday = response.data.yesterday\n      // }).catch(() => {\n      // })\n    },\n    fetchServiceStat() {\n      // serviceStat({ }).then(response => {\n      //   this.pieChartData.legend = response.data.legend\n      //   this.pieChartData.series = response.data.data\n      // }).catch(() => {\n      // })\n    },\n    handleSetLineChartData() {\n      // this.lineChartData = lineChartData[type]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard-editor-container {\n  padding: 32px;\n  background-color: rgb(240, 242, 245);\n  position: relative;\n\n  .github-corner {\n    position: absolute;\n    top: 0px;\n    border: 0;\n    right: 0;\n  }\n\n  .chart-wrapper {\n    background: #fff;\n    padding: 16px 16px 0;\n    margin-bottom: 32px;\n  }\n}\n\n@media (max-width:1024px) {\n  .chart-wrapper {\n    padding: 8px;\n  }\n}\n</style>\n\n"]}]}