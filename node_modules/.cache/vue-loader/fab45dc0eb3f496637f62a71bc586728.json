{"remainingRequest":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/sys_config/index.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/home/views/aquaman_view/src/views/sys_config/index.vue","mtime":1605682069835},{"path":"/home/views/aquaman_view/node_modules/css-loader/dist/cjs.js","mtime":1601261329179},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1601261366078},{"path":"/home/views/aquaman_view/node_modules/postcss-loader/src/index.js","mtime":1601261365169},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1peGluLWNvbXBvbmVudHMtY29udGFpbmVyIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmMmY1OwogIHBhZGRpbmc6IDMwcHg7CiAgbWluLWhlaWdodDogY2FsYygxMDB2aCAtIDg0cHgpOwp9Ci50ZXh0IHsKICBmb250LXNpemU6IDE0cHg7Cn0KLmNsZWFyZml4OmJlZm9yZSwKLmNsZWFyZml4OmFmdGVyIHsKICBkaXNwbGF5OiB0YWJsZTsKICBjb250ZW50OiAiIjsKfQouY2xlYXJmaXg6YWZ0ZXIgewogIGNsZWFyOiBib3RoOwp9Ci5ib3gtY2FyZC1pbiB7CiAgd2lkdGg6IDYwJTsKfQouZHVtcC1ib3ggewogIGZvbnQtd2VpZ2h0OiA3MDA7CiAgY29sb3I6ICM2MDYyNjY7Cn0KLm51bWJlcl9pbnB1dHsKICAgIHdpZHRoOiA0MCUKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/sys_config","sourcesContent":["<template>\n    <div class=\"mixin-components-container\">\n        <el-row>\n            <el-card class=\"box-card\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span style=\"font-weight: 800\" >线程设置</span>\n                </div>\n                <div style=\"margin-bottom:50px;\">\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" size=\"mini\">\n                        <el-form-item label=\"Poc Scanner\">\n                            <el-input-number size=\"mini\" v-model=\"form.poc_thread\" :min=\"1\" :max=\"50\"></el-input-number>\n                        </el-form-item>\n                        <el-form-item label=\"Discovery\">\n                            <el-input-number size=\"mini\" v-model=\"form.discovery_thread\" :min=\"1\" :max=\"50\"></el-input-number>\n                        </el-form-item>\n                        <el-form-item label=\"SubDomain\">\n                            <el-input-number size=\"mini\" v-model=\"form.subdomain_thread\" :min=\"1\" :max=\"50\"></el-input-number>\n                        </el-form-item>\n                        <el-form-item label=\"Port Scanner\">\n                            <el-input-number size=\"mini\" v-model=\"form.port_thread\" :min=\"1\" :max=\"50\"></el-input-number>\n                        </el-form-item>\n                        <el-form-item label=\"Auth Tester\">\n                            <el-input-number size=\"mini\" v-model=\"form.auth_tester_thread\" :min=\"1\" :max=\"50\"></el-input-number>\n                        </el-form-item>\n                        <el-form-item label=\"Poc Frequency\">\n                            <el-input-number size=\"mini\" v-model=\"form.poc_frequency\" :min=\"1\" :max=\"100\"></el-input-number>\n                        </el-form-item>\n                        <el-form-item label=\"Discovery Time\">\n                            <el-input type=\"time\" v-model=\"form.discovery_time\" class=\"number_input\"></el-input>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </el-card>\n            <el-card class=\"box-card\" style=\"margin-top: 20px\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span style=\"font-weight: 800\">检测端口</span>\n                </div>\n                <div style=\"margin-bottom:50px;\">\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"medium\">\n                        <el-form-item label=\"\">\n                            <el-input type=\"textarea\" v-model=\"form.port_list\" :rows=\"3\" placeholder=\"20,21,22,25,80,110,443,445,3306,8080\"></el-input>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </el-card>\n            <el-card class=\"box-card\" style=\"margin-top: 20px\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span style=\"font-weight: 800\">认证爆破</span>\n                </div>\n                <div style=\"margin-bottom:50px;\">\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" size=\"medium\">\n                        <el-form-item label=\"服务字典\">\n                            <el-input type=\"textarea\" v-model=\"form.auth_service\" :rows=\"3\" placeholder=\"rdp,ssh,ftp\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"账户字典\">\n                            <el-input type=\"textarea\" v-model=\"form.username_dict\" :rows=\"3\" placeholder=\"root,admin\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"密码字典\">\n                            <el-input type=\"textarea\" v-model=\"form.password_dict\" :rows=\"3\" placeholder=\"root,admin,123456\"></el-input>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </el-card>\n            <el-card class=\"box-card\" style=\"margin-top: 20px\">\n                <div slot=\"header\" class=\"clearfix\">\n                    <span style=\"font-weight: 800\">域名爆破</span>\n                </div>\n                <div style=\"margin-bottom:50px;\">\n                    <el-form ref=\"form\" :model=\"form\" label-width=\"180px\" size=\"medium\">\n                        <el-form-item label=\"二级域名\">\n                            <el-input type=\"textarea\" v-model=\"form.subdomain_dict_2\" :rows=\"3\" placeholder=\"www,mail,test\"></el-input>\n                        </el-form-item>\n                        <el-form-item label=\"三级域名\">\n                            <el-input type=\"textarea\" v-model=\"form.subdomain_dict_3\" :rows=\"3\" placeholder=\"www,mail,test\"></el-input>\n                        </el-form-item>\n                    </el-form>\n                </div>\n            </el-card>\n            <el-button type=\"danger\" style=\"margin: 10px, 0, 0, 0px\" @click=\"PutSystemConfig\">确认修改</el-button>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport { GetConfig, PutConfig } from \"@/api/sys_config\"\nexport default {\n    data() {\n        return {\n            title: \"系统设置\",\n            form: {},\n            info: {  // 样板\n                _id: \"5c483205cc599e1032f2a6fb\",\n                auth_service: [\"asterisk\", \"cisco\", \"cisco-enable\", \"cvs\", \"firebird\", \"ftp\", \"ftps\", \"http-proxy\", \"http-proxy-urlenum\"],\n                auth_tester_thread: 50,\n                config_name: \"mars\",\n                discovery_thread: 50,\n                discovery_time: \"10:31:00\",\n                password_dict: [\"123456\", \"password\", \"12345678\", \"admin\", \"admin123\", \"000000\", \"111111\", \"666666\"],\n                poc_frequency: 15,\n                poc_thread: 50,\n                port_list: [20, 21, 22, 25, 445, 3389],\n                port_thread: 50,\n                subdomain_dict_2: [\"www\", \"mail\", \"test\"],\n                subdomain_dict_3: [\"www\", \"mail\", \"test\"],\n                subdomain_thread: 50,\n                username_dict: [\"admin\", \"root\", \"administrators\"]\n            },\n        };\n    },\n    created() {\n        this.GetSystemConfig()\n    },\n    methods: {\n        update(){\n            this.$notify({ title: \"Warning\", message: \"接口未实现\", type: \"info\", duration: 5000, });\n        },\n        // 获取配置数据\n        GetSystemConfig(){\n            GetConfig().then((response) => {\n                let info = response.data\n                let ports_str = ''\n                let users_str = ''\n                let passwd_str = ''\n                let srvs_str = ''\n                let s2 = ''\n                let s3 = ''\n                for(let i=0;i<info.port_list.length;i++){\n                    ports_str = ports_str + info.port_list[i] +\",\"\n                }\n                for(let i=0;i<info.username_dict.length;i++){\n                    users_str = users_str + info.username_dict[i] + ','\n                }\n                for(let i=0;i<info.password_dict.length;i++){\n                    passwd_str = passwd_str + info.password_dict[i] + ','\n                }\n                for(let i=0;i<info.subdomain_dict_2.length;i++){\n                    s2 = s2 + info.subdomain_dict_2[i] + ','\n                }\n                for(let i=0;i<info.subdomain_dict_3.length;i++){\n                    s3 = s3 + info.subdomain_dict_3[i] + ','\n                }\n                for(let i=0;i<info.auth_service.length;i++){\n                    srvs_str = srvs_str + info.auth_service[i] + ','\n                }\n                this.form = {\n                    _id: info._id,\n                    auth_tester_thread: info.auth_tester_thread,\n                    config_name: info.config_name,\n                    discovery_thread: info.discovery_thread,\n                    discovery_time: info.discovery_time,\n                    poc_frequency: info.poc_frequency,\n                    poc_thread: info.poc_thread,\n                    port_thread: info.port_thread,\n                    subdomain_thread: info.subdomain_thread,\n                    // 以下是经过处理的\n                    port_list: ports_str,\n                    username_dict: users_str,\n                    password_dict: passwd_str,\n                    subdomain_dict_2: s2,\n                    subdomain_dict_3: s3,\n                    auth_service: srvs_str\n                }\n            }).catch(() => {\n                this.$notify({ title: \"Failed\", message: \"服务未得到响应\", type: \"error\", duration: 5000, });\n            });\n        },\n        PutSystemConfig(){\n            // 处理数据\n            this.form.port_list = this.form.port_list.trim()\n            this.form.username_dict = this.form.username_dict.trim()\n            this.form.password_dict = this.form.password_dict.trim()\n            this.form.subdomain_dict_2 = this.form.subdomain_dict_2.trim()\n            this.form.subdomain_dict_3 = this.form.subdomain_dict_3.trim()\n            this.form.auth_service = this.form.auth_service.trim()\n            // let a = 'www,mail , test,'\n            // let m = a.split(\",\").map(el => el.trim()).filter(item => item.trim() != '')\n            // console.log(m)\n            let data = {\n                _id: this.form._id,\n                auth_tester_thread: this.form.auth_tester_thread,  //\n                config_name: this.form.config_name, // 创建数据库手动建库\n                discovery_thread: this.form.discovery_thread,  //\n                discovery_time: this.form.discovery_time, //\n                poc_frequency: this.form.poc_frequency,  //\n                poc_thread: this.form.poc_thread, //\n                port_thread: this.form.port_thread, //\n                subdomain_thread: this.form.subdomain_thread, //\n                // 以下需要经过处理的\n                port_list: this.form.port_list.split(',').map(el => el.trim()).filter(item => item.trim() != ''),\n                username_dict: this.form.username_dict.split(',').map(el => el.trim()).filter(item => item.trim() != ''),\n                password_dict: this.form.password_dict.split(',').map(el => el.trim()).filter(item => item.trim() != ''),\n                subdomain_dict_2: this.form.subdomain_dict_2.split(',').map(el => el.trim()).filter(item => item.trim() != ''),\n                subdomain_dict_3: this.form.subdomain_dict_3.split(',').map(el => el.trim()).filter(item => item.trim() != ''),\n                auth_service: this.form.auth_service.split(',').map(el => el.trim()).filter(item => item.trim() != '')\n            }\n            // console.log(data)\n            PutConfig(data).then(() =>{\n                this.$notify({ title: \"Success\", message: \"Update Successfully\", type: \"success\", duration: 5000, });\n            }).catch((response) => {\n                this.$notify({ title: \"Failed\", message: response.errmsg, type: \"error\", duration: 5000, });\n            });\n        }\n    }\n}\n</script>\n\n<style>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.text {\n  font-size: 14px;\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card-in {\n  width: 60%;\n}\n.dump-box {\n  font-weight: 700;\n  color: #606266;\n}\n.number_input{\n    width: 40%\n}\n</style>"]}]}