{"remainingRequest":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js!/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/mars/report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/aquaman_view/src/views/mars/report.vue","mtime":1601261308749},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENvZGVNaXJyb3IgZnJvbSAnY29kZW1pcnJvcic7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9saW50L2xpbnQuY3NzJzsKaW1wb3J0ICdjb2RlbWlycm9yL2xpYi9jb2RlbWlycm9yLmNzcyc7CmltcG9ydCAnY29kZW1pcnJvci90aGVtZS9ydWJ5Ymx1ZS5jc3MnOwoKcmVxdWlyZSgnc2NyaXB0LWxvYWRlciFqc29ubGludCcpOwoKaW1wb3J0ICdjb2RlbWlycm9yL21vZGUvamF2YXNjcmlwdC9qYXZhc2NyaXB0JzsKaW1wb3J0ICdjb2RlbWlycm9yL2FkZG9uL2xpbnQvbGludCc7CmltcG9ydCAnY29kZW1pcnJvci9hZGRvbi9saW50L2pzb24tbGludCc7CmltcG9ydCB7IFRhc2tSZXBvcnQgfSBmcm9tICJAL2FwaS9tYXJzIjsKaW1wb3J0IHsgc3RyaW5nIH0gZnJvbSAnanN6aXAvbGliL3N1cHBvcnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0pzb25FZGl0b3InLAoKICAvKiBlc2xpbnQtZGlzYWJsZSB2dWUvcmVxdWlyZS1wcm9wLXR5cGVzICovCiAgcHJvcHM6IFsndmFsdWUnXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAganNvbkVkaXRvcjogZmFsc2UsCiAgICAgIGlkOiB1bmRlZmluZWQKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKF92YWx1ZSkgewogICAgICB2YXIgZWRpdG9yVmFsdWUgPSB0aGlzLmpzb25FZGl0b3IuZ2V0VmFsdWUoKTsKCiAgICAgIGlmIChfdmFsdWUgIT09IGVkaXRvclZhbHVlKSB7CiAgICAgICAgdGhpcy5qc29uRWRpdG9yLnNldFZhbHVlKEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUsIG51bGwsIDIpKTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmpzb25FZGl0b3IgPSBDb2RlTWlycm9yLmZyb21UZXh0QXJlYSh0aGlzLiRyZWZzLnRleHRhcmVhLCB7CiAgICAgIGxpbmVOdW1iZXJzOiB0cnVlLAogICAgICBtb2RlOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgIGd1dHRlcnM6IFsnQ29kZU1pcnJvci1saW50LW1hcmtlcnMnXSwKICAgICAgdGhlbWU6ICdydWJ5Ymx1ZScsCiAgICAgIGxpbnQ6IHRydWUKICAgIH0pOwogICAgdGhpcy5nZXRWYWx1ZSgpOwogICAgdGhpcy5nZXREYXRhKHRoaXMuaWQpOyAvLyB0aGlzLmpzb25FZGl0b3Iuc2V0VmFsdWUoSlNPTi5zdHJpbmdpZnkoeyAidGFza19pZCI6ICJmMWMwN2Y1ZTgzMjlhOTgxODQ5MDI1MjFjOWVkNjU2ZCIsICJwaWQiOiAxLCAiZHVyYXRpb24iOiAiMTI0LjYxMDAwMSIsICJ0YXJnZXRzIjogIjE3Mi4zMS41MC4xNTcsemFuNzEuY29tLDE3Mi4zMS41MC4yNTQiLCAiaG9zdHMiOiBbeyAidGFyZ2V0IjogIjE3Mi4zMS41MC4xNTciLCAiYWRkcl90eXBlIjogImlwdjQiLCAic2VydmljZXMiOiBbeyAicG9ydCI6IDMzODksICJwcm90b2NvbCI6ICJ0Y3AiLCAibmFtZSI6ICJtcy13YnQtc2VydmVyIiwgInN0YXRlIjogIm9wZW4iLCAicmVhc29uIjogInN5bi1hY2siLCAicmVhc29uX3R0bCI6IDEyOCB9XSB9LCB7ICJ0YXJnZXQiOiAiNDcuOTIuMjU1LjM5IiwgImFkZHJfdHlwZSI6ICJpcHY0IiwgInNlcnZpY2VzIjogW3sgInBvcnQiOiAyMiwgInByb3RvY29sIjogInRjcCIsICJuYW1lIjogInNzaCIsICJzdGF0ZSI6ICJvcGVuIiwgInJlYXNvbiI6ICJzeW4tYWNrIiwgInJlYXNvbl90dGwiOiA1MSB9LCB7ICJwb3J0IjogODAsICJwcm90b2NvbCI6ICJ0Y3AiLCAibmFtZSI6ICJodHRwIiwgInN0YXRlIjogIm9wZW4iLCAicmVhc29uIjogInN5bi1hY2siLCAicmVhc29uX3R0bCI6IDUxIH0sIHsgInBvcnQiOiA0NDMsICJwcm90b2NvbCI6ICJ0Y3AiLCAibmFtZSI6ICJodHRwcyIsICJzdGF0ZSI6ICJvcGVuIiwgInJlYXNvbiI6ICJzeW4tYWNrIiwgInJlYXNvbl90dGwiOiA1MSB9LCB7ICJwb3J0IjogMzM4OSwgInByb3RvY29sIjogInRjcCIsICJuYW1lIjogIm1zLXdidC1zZXJ2ZXIiLCAic3RhdGUiOiAiY2xvc2VkIiwgInJlYXNvbiI6ICJyZXNldCIsICJyZWFzb25fdHRsIjogNTEgfV0gfSwgeyAidGFyZ2V0IjogIjE3Mi4zMS41MC4yNTQiLCAiYWRkcl90eXBlIjogImlwdjQiLCAic2VydmljZXMiOiBbeyAicG9ydCI6IDIyLCAicHJvdG9jb2wiOiAidGNwIiwgIm5hbWUiOiAic3NoIiwgInN0YXRlIjogIm9wZW4iLCAicmVhc29uIjogInN5bi1hY2siLCAicmVhc29uX3R0bCI6IDY0IH0sIHsgInBvcnQiOiAxMTEsICJwcm90b2NvbCI6ICJ0Y3AiLCAibmFtZSI6ICJycGNiaW5kIiwgInN0YXRlIjogIm9wZW4iLCAicmVhc29uIjogInN5bi1hY2siLCAicmVhc29uX3R0bCI6IDY0IH0sIHsgInBvcnQiOiAzMzA2LCAicHJvdG9jb2wiOiAidGNwIiwgIm5hbWUiOiAibXlzcWwiLCAic3RhdGUiOiAiZmlsdGVyZWQiLCAicmVhc29uIjogIm5vLXJlc3BvbnNlIiwgInJlYXNvbl90dGwiOiAwIH0sIHsgInBvcnQiOiA1OTAxLCAicHJvdG9jb2wiOiAidGNwIiwgIm5hbWUiOiAidm5jLTEiLCAic3RhdGUiOiAib3BlbiIsICJyZWFzb24iOiAic3luLWFjayIsICJyZWFzb25fdHRsIjogNjQgfSwgeyAicG9ydCI6IDYwMDEsICJwcm90b2NvbCI6ICJ0Y3AiLCAibmFtZSI6ICJYMTE6MSIsICJzdGF0ZSI6ICJvcGVuIiwgInJlYXNvbiI6ICJzeW4tYWNrIiwgInJlYXNvbl90dGwiOiA2NCB9LCB7ICJwb3J0IjogOTIwMCwgInByb3RvY29sIjogInRjcCIsICJuYW1lIjogIndhcC13c3AiLCAic3RhdGUiOiAiZmlsdGVyZWQiLCAicmVhc29uIjogIm5vLXJlc3BvbnNlIiwgInJlYXNvbl90dGwiOiAwIH1dIH1dLCAiZXJyX21zZyI6ICIiIH0sIG51bGwsIDIpKQogICAgLy8gdGhpcy5qc29uRWRpdG9yLnNldFZhbHVlKEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWUsIG51bGwsIDIpKQogICAgLy8gdGhpcy5qc29uRWRpdG9yLm9uKCdjaGFuZ2UnLCBjbSA9PiB7CiAgICAvLyAgIHRoaXMuJGVtaXQoJ2NoYW5nZWQnLCBjbS5nZXRWYWx1ZSgpKQogICAgLy8gICB0aGlzLiRlbWl0KCdpbnB1dCcsIGNtLmdldFZhbHVlKCkpCiAgICAvLyB9KQogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlKCkgewogICAgICByZXR1cm4gdGhpcy5qc29uRWRpdG9yLmdldFZhbHVlKCk7CiAgICB9LAogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgICJwaWQiOiBOdW1iZXIoaWQpCiAgICAgIH07CiAgICAgIFRhc2tSZXBvcnQocXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CgogICAgICAgIF90aGlzLmpzb25FZGl0b3Iuc2V0VmFsdWUoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSwgbnVsbCwgMikpOyAvLyBzZXRUaW1lb3V0KCgpID0+IHsgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOyB9LCAxLjUgKiAxMDAwKTsKCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["report.vue"],"names":[],"mappings":";;;;;;;AAOA,OAAA,UAAA,MAAA,YAAA;AACA,OAAA,gCAAA;AACA,OAAA,+BAAA;AACA,OAAA,+BAAA;;AACA,OAAA,CAAA,wBAAA,CAAA;;AACA,OAAA,uCAAA;AACA,OAAA,4BAAA;AACA,OAAA,iCAAA;AACA,SAAA,UAAA,QAAA,YAAA;AACA,SAAA,MAAA,QAAA,mBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;;AAEA;AACA,EAAA,KAAA,EAAA,CAAA,OAAA,CAHA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,KADA;AAEA,MAAA,EAAA,EAAA;AAFA,KAAA;AAIA,GATA;AAUA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,iBACA,MADA,EACA;AACA,UAAA,WAAA,GAAA,KAAA,UAAA,CAAA,QAAA,EAAA;;AACA,UAAA,MAAA,KAAA,WAAA,EAAA;AACA,aAAA,UAAA,CAAA,QAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,KAAA,EAAA,IAAA,EAAA,CAAA,CAAA;AACA;AACA;AANA,GAVA;AAkBA,EAAA,OAlBA,qBAkBA;AACA,SAAA,EAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,GApBA;AAqBA,EAAA,OArBA,qBAqBA;AACA,SAAA,UAAA,GAAA,UAAA,CAAA,YAAA,CAAA,KAAA,KAAA,CAAA,QAAA,EAAA;AACA,MAAA,WAAA,EAAA,IADA;AAEA,MAAA,IAAA,EAAA,kBAFA;AAGA,MAAA,OAAA,EAAA,CAAA,yBAAA,CAHA;AAIA,MAAA,KAAA,EAAA,UAJA;AAKA,MAAA,IAAA,EAAA;AALA,KAAA,CAAA;AAOA,SAAA,QAAA;AACA,SAAA,OAAA,CAAA,KAAA,EAAA,EATA,CAUA;AACA;AACA;AACA;AACA;AACA;AACA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,UAAA,CAAA,QAAA,EAAA;AACA,KAHA;AAIA,IAAA,OAJA,mBAIA,EAJA,EAIA;AAAA;;AACA,UAAA,KAAA,GAAA;AAAA,eAAA,MAAA,CAAA,EAAA;AAAA,OAAA;AACA,MAAA,UAAA,CAAA,KAAA,CAAA,CAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;;AACA,QAAA,KAAA,CAAA,UAAA,CAAA,QAAA,CAAA,IAAA,CAAA,SAAA,CAAA,QAAA,CAAA,IAAA,EAAA,IAAA,EAAA,CAAA,CAAA,EAFA,CAGA;;AACA,OAJA;AAKA;AAXA;AAtCA,CAAA","sourcesContent":["<template>\n  <div class=\"json-editor\">\n    <textarea ref=\"textarea\" />\n  </div>\n</template>\n\n<script>\nimport CodeMirror from 'codemirror'\nimport 'codemirror/addon/lint/lint.css'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/theme/rubyblue.css'\nrequire('script-loader!jsonlint')\nimport 'codemirror/mode/javascript/javascript'\nimport 'codemirror/addon/lint/lint'\nimport 'codemirror/addon/lint/json-lint'\nimport { TaskReport } from \"@/api/mars\"\nimport { string } from 'jszip/lib/support'\n\nexport default {\n  name: 'JsonEditor',\n  /* eslint-disable vue/require-prop-types */\n  props: ['value'],\n  data() {\n    return {\n      jsonEditor: false,\n      id: undefined,\n    }\n  },\n  watch: {\n    value(value) {\n      const editorValue = this.jsonEditor.getValue()\n      if (value !== editorValue) {\n        this.jsonEditor.setValue(JSON.stringify(this.value, null, 2))\n      }\n    }\n  },\n  created() {\n    this.id = this.$route.query.id\n  },\n  mounted() {\n    this.jsonEditor = CodeMirror.fromTextArea(this.$refs.textarea, {\n      lineNumbers: true,\n      mode: 'application/json',\n      gutters: ['CodeMirror-lint-markers'],\n      theme: 'rubyblue',\n      lint: true\n    })\n    this.getValue()\n    this.getData(this.id)\n    // this.jsonEditor.setValue(JSON.stringify({ \"task_id\": \"f1c07f5e8329a98184902521c9ed656d\", \"pid\": 1, \"duration\": \"124.610001\", \"targets\": \"172.31.50.157,zan71.com,172.31.50.254\", \"hosts\": [{ \"target\": \"172.31.50.157\", \"addr_type\": \"ipv4\", \"services\": [{ \"port\": 3389, \"protocol\": \"tcp\", \"name\": \"ms-wbt-server\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 128 }] }, { \"target\": \"47.92.255.39\", \"addr_type\": \"ipv4\", \"services\": [{ \"port\": 22, \"protocol\": \"tcp\", \"name\": \"ssh\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 51 }, { \"port\": 80, \"protocol\": \"tcp\", \"name\": \"http\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 51 }, { \"port\": 443, \"protocol\": \"tcp\", \"name\": \"https\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 51 }, { \"port\": 3389, \"protocol\": \"tcp\", \"name\": \"ms-wbt-server\", \"state\": \"closed\", \"reason\": \"reset\", \"reason_ttl\": 51 }] }, { \"target\": \"172.31.50.254\", \"addr_type\": \"ipv4\", \"services\": [{ \"port\": 22, \"protocol\": \"tcp\", \"name\": \"ssh\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 64 }, { \"port\": 111, \"protocol\": \"tcp\", \"name\": \"rpcbind\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 64 }, { \"port\": 3306, \"protocol\": \"tcp\", \"name\": \"mysql\", \"state\": \"filtered\", \"reason\": \"no-response\", \"reason_ttl\": 0 }, { \"port\": 5901, \"protocol\": \"tcp\", \"name\": \"vnc-1\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 64 }, { \"port\": 6001, \"protocol\": \"tcp\", \"name\": \"X11:1\", \"state\": \"open\", \"reason\": \"syn-ack\", \"reason_ttl\": 64 }, { \"port\": 9200, \"protocol\": \"tcp\", \"name\": \"wap-wsp\", \"state\": \"filtered\", \"reason\": \"no-response\", \"reason_ttl\": 0 }] }], \"err_msg\": \"\" }, null, 2))\n    // this.jsonEditor.setValue(JSON.stringify(this.value, null, 2))\n    // this.jsonEditor.on('change', cm => {\n    //   this.$emit('changed', cm.getValue())\n    //   this.$emit('input', cm.getValue())\n    // })\n  },\n  methods: {\n    getValue() {\n      return this.jsonEditor.getValue()\n    },\n    getData(id) {\n      let query = { \"pid\": Number(id) }\n      TaskReport(query).then((response) => {\n        console.log(response.data)\n        this.jsonEditor.setValue(JSON.stringify(response.data, null, 2))\n        // setTimeout(() => { this.listLoading = false; }, 1.5 * 1000);\n      });\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.json-editor {\n  height: 100%;\n  position: relative;\n\n  ::v-deep {\n    .CodeMirror {\n      height: auto;\n      min-height: 300px;\n    }\n\n    .CodeMirror-scroll {\n      min-height: 300px;\n    }\n\n    .cm-s-rubyblue span.cm-string {\n      color: #f08047;\n    }\n  }\n}\n</style>"],"sourceRoot":"src/views/mars"}]}