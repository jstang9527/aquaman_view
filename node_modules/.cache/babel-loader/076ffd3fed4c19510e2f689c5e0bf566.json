{"remainingRequest":"/home/views/opentest_view/node_modules/babel-loader/lib/index.js!/home/views/opentest_view/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/views/opentest_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/opentest_view/src/views/service/list.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/opentest_view/src/views/service/list.vue","mtime":1596446501735},{"path":"/home/views/opentest_view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/views/opentest_view/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/views/opentest_view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/views/opentest_view/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2VydmljZUxpc3QsIHNlcnZpY2VEZWxldGUgfSBmcm9tICJAL2FwaS9zZXJ2aWNlIjsKaW1wb3J0IHdhdmVzIGZyb20gIkAvZGlyZWN0aXZlL3dhdmVzIjsgLy8gd2F2ZXMgZGlyZWN0aXZlCgppbXBvcnQgUGFnaW5hdGlvbiBmcm9tICJAL2NvbXBvbmVudHMvUGFnaW5hdGlvbiI7IC8vIHNlY29uZGFyeSBwYWNrYWdlIGJhc2VkIG9uIGVsLXBhZ2luYXRpb24KCnZhciBsb2FkVHlwZU9wdGlvbnMgPSBbewogIGtleTogIjAiLAogIGRpc3BsYXlfbmFtZTogIkhUVFAiCn0sIHsKICBrZXk6ICIxIiwKICBkaXNwbGF5X25hbWU6ICJUQ1AiCn0sIHsKICBrZXk6ICIyIiwKICBkaXNwbGF5X25hbWU6ICJHUlBDIgp9XTsKdmFyIGxvYWRUeXBlS2V5VmFsdWUgPSBsb2FkVHlwZU9wdGlvbnMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGN1cikgewogIGFjY1tjdXIua2V5XSA9IGN1ci5kaXNwbGF5X25hbWU7CiAgcmV0dXJuIGFjYzsKfSwge30pOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInNlcnZpY2VfbGlzdCIsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbgogIH0sCiAgZGlyZWN0aXZlczogewogICAgd2F2ZXM6IHdhdmVzCiAgfSwKICBmaWx0ZXJzOiB7CiAgICBsb2FkVHlwZUZpbHRlcjogZnVuY3Rpb24gbG9hZFR5cGVGaWx0ZXIodHlwZSkgewogICAgICByZXR1cm4gbG9hZFR5cGVLZXlWYWx1ZVt0eXBlXTsKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZUtleTogMCwKICAgICAgbGlzdDogbnVsbCwKICAgICAgdG90YWw6IDAsCiAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICBsaXN0UXVlcnk6IHsKICAgICAgICBwYWdlX25vOiAxLAogICAgICAgIHBhZ2Vfc2l6ZTogMjAsCiAgICAgICAgaW5mbzogIiIKICAgICAgfSwKICAgICAgdGVtcDogewogICAgICAgIC8v5Li05pe25a2Y5YKo5Y+Y6YeP5rGgCiAgICAgICAgaWQ6IHVuZGVmaW5lZAogICAgICB9CiAgICB9OwogIH0sCiAgLy8gY3JlYXRlZDog5riy5p+T5YmN5omn6KGM55qE5Ye95pWw44CC5bCx5piv5omT5byA6K+l6aG16Z2i5pe25Lya56ys5LiA5Liq5omn6KGM55qE5pON5L2cCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgLy8g6I635Y+W5pyN5Yqh5YiX6KGo5pWw5o2uCiAgbWV0aG9kczogewogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlOwogICAgICBzZXJ2aWNlTGlzdCh0aGlzLmxpc3RRdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0ID0gcmVzcG9uc2UuZGF0YS5saXN0OwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UuZGF0YS50b3RhbDsgLy8g5Lya5ZyoMS4156eS5ZCO6ZqQ6JePbG9hZGluZwoKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSwgMS41ICogMTAwMCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l6K+i5pON5L2cLOS7juesrOS4gOmhteW8gOWniwogICAgaGFuZGxlRmlsdGVyOiBmdW5jdGlvbiBoYW5kbGVGaWx0ZXIoKSB7CiAgICAgIHRoaXMubGlzdFF1ZXJ5LnBhZ2Vfbm8gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3csIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgi5q2k5pON5L2c5bCG5rC45LmF5Yig6Zmk6K+l6K6w5b2VLCDmmK/lkKbnu6fnu60/IiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBkZWxldGVRdWVyeSA9IHsKICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICB9OwogICAgICAgIHNlcnZpY2VEZWxldGUoZGVsZXRlUXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczIuJG5vdGlmeSh7CiAgICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGUgU3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgfSk7CgogICAgICAgICAgX3RoaXMyLmxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAiQ2FuY2VsIiwKICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGUgQ2FuY2VsIiwKICAgICAgICAgIHR5cGU6ICJpbmZvIiwKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgIH0pOyAvLyB0aGlzLmxpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["list.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"filter-container\">\n      <el-input v-model=\"listQuery.info\" placeholder=\"服务名称/服务描述\" style=\"width: 200px;\" class=\"filter-item\" @keyup.enter.native=\"handleFilter\" />\n      <el-button v-waves class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"handleFilter\">Search</el-button>\n      <el-button class=\"filter-item\" style=\"margin-left: 10px;\" type=\"primary\" icon=\"el-icon-edit\" @click=\"handleCreate\">Add</el-button>\n    </div>\n\n    <el-table :key=\"tableKey\" v-loading=\"listLoading\" element-loading-text=\"玩命加载中\" element-loading-spinner=\"el-icon-loading\" element-loading-background=\"rgba(0, 0, 0, 0.8)\" :data=\"list\" border fit highlight-current-row style=\"width: 100%;\">\n      <el-table-column label=\"ID\" prop=\"id\" align=\"center\" width=\"60\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.id }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"服务名称\" min-width=\"120px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.service_name }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"服务描述\" min-width=\"180px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.service_desc }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"类型\" min-width=\"70px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.load_type|loadTypeFilter }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"服务地址\" min-width=\"250px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.service_addr }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"QPS\" min-width=\"70px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.qps }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"日请求量\" min-width=\"70px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.qpd }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"节点数\" min-width=\"60px\">\n        <template slot-scope=\"{row}\">\n          <span>{{ row.total_node }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" align=\"center\" width=\"300\" class-name=\"small-padding fixed-width\">\n        <template slot-scope=\"{row,$index}\">\n          <el-button type=\"primary\" size=\"mini\">测试</el-button>\n          <el-button type=\"primary\" size=\"mini\">统计</el-button>\n          <el-button type=\"primary\" size=\"mini\">修改</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"handleDelete(row,$index)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page\" :limit.sync=\"listQuery.limit\" @pagination=\"getList\" />\n  </div>\n</template>\n\n<script>\nimport { serviceList, serviceDelete } from \"@/api/service\";\nimport waves from \"@/directive/waves\"; // waves directive\nimport Pagination from \"@/components/Pagination\"; // secondary package based on el-pagination\n\nconst loadTypeOptions = [\n  { key: \"0\", display_name: \"HTTP\" },\n  { key: \"1\", display_name: \"TCP\" },\n  { key: \"2\", display_name: \"GRPC\" },\n];\n\nconst loadTypeKeyValue = loadTypeOptions.reduce((acc, cur) => {\n  acc[cur.key] = cur.display_name;\n  return acc;\n}, {});\n\nexport default {\n  name: \"service_list\",\n  components: { Pagination },\n  directives: { waves },\n  filters: {\n    loadTypeFilter(type) {\n      return loadTypeKeyValue[type];\n    },\n  },\n  data() {\n    return {\n      tableKey: 0,\n      list: null,\n      total: 0,\n      listLoading: true,\n      listQuery: {\n        page_no: 1,\n        page_size: 20,\n        info: \"\",\n      },\n      temp: {\n        //临时存储变量池\n        id: undefined,\n      },\n    };\n  },\n  // created: 渲染前执行的函数。就是打开该页面时会第一个执行的操作\n  created() {\n    this.getList();\n  },\n  // 获取服务列表数据\n  methods: {\n    getList() {\n      this.listLoading = true;\n      serviceList(this.listQuery).then((response) => {\n        this.list = response.data.list;\n        this.total = response.data.total;\n\n        // 会在1.5秒后隐藏loading\n        setTimeout(() => {\n          this.listLoading = false;\n        }, 1.5 * 1000);\n      });\n    },\n    //查询操作,从第一页开始\n    handleFilter() {\n      this.listQuery.page_no = 1;\n      this.getList();\n    },\n\n    handleDelete(row, index) {\n      this.$confirm(\"此操作将永久删除该记录, 是否继续?\", \"提示\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\",\n      })\n        .then(() => {\n          let deleteQuery = { id: row.id };\n          serviceDelete(deleteQuery).then((response) => {\n            this.$notify({\n              title: \"Success\",\n              message: \"Delete Successfully\",\n              type: \"success\",\n              duration: 2000,\n            });\n            this.list.splice(index, 1);\n          });\n        })\n        .catch(() => {\n          this.$notify({\n            title: \"Cancel\",\n            message: \"Delete Cancel\",\n            type: \"info\",\n            duration: 2000,\n          });\n        });\n      // this.list.splice(index, 1);\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views/service"}]}