{"remainingRequest":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js!/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/views/aquaman_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/aquaman_view/src/views/web-vul/task.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/aquaman_view/src/views/web-vul/task.vue","mtime":1602297794618},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/babel-loader/lib/index.js","mtime":1601261365222},{"path":"/home/views/aquaman_view/node_modules/cache-loader/dist/cjs.js","mtime":1601261325203},{"path":"/home/views/aquaman_view/node_modules/vue-loader/lib/index.js","mtime":1601261366062}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0iOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBBZGRUYXNrIH0gZnJvbSAiQC9hcGkvd2ViX3Z1bCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VibWl0QnRuRGlzYWJsZWQ6IGZhbHNlLAogICAgICB0aXRsZTogIuWIm+W7uuS7u+WKoSIsCiAgICAgIGZvcm06IHsKICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgc2Nhbl90eXBlOiAiMCIsCiAgICAgICAgdGFyZ2V0X2xpc3Q6ICIiLAogICAgICAgIHRhc2tfbmFtZTogIiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOihqOagvOagvOW8j+ajgOafpQogICAgZm9ybUNoZWNrOiBmdW5jdGlvbiBmb3JtQ2hlY2soKSB7CiAgICAgIGlmICh0aGlzLmZvcm0udGFza19uYW1lLnRyaW0oKSA9PSAiIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuS7u+WKoeWQjeW/heWhqyIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmZvcm0udGFyZ2V0X2xpc3QudHJpbSgpID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi5Lu75Yqh55uu5qCH5b+F5aGrIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0pOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8g5YWz6Zet5a2Q6aG1CiAgICBjbG9zZUNoaWxkUGFnZTogZnVuY3Rpb24gY2xvc2VDaGlsZFBhZ2UoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICB0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlldy52aXNpdGVkVmlld3Muc3BsaWNlKHRoaXMuJHN0b3JlLnN0YXRlLnRhZ3NWaWV3LnZpc2l0ZWRWaWV3cy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSBfdGhpcy4kcm91dGUucGF0aDsKICAgICAgfSksIDEpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh0aGlzLiRzdG9yZS5zdGF0ZS50YWdzVmlldy52aXNpdGVkVmlld3NbdGhpcy4kc3RvcmUuc3RhdGUudGFnc1ZpZXcudmlzaXRlZFZpZXdzLmxlbmd0aCAtIDFdLnBhdGgpOwogICAgfSwKICAgIC8v5Yib5bu65Lu75YqhCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmZvcm1DaGVjaygpKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vICAgdGhpcy5zdWJtaXRCdG5EaXNhYmxlZCA9IHRydWUKICAgICAgLy8xLue7hOijheaVsOaNrgoKCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybSk7CiAgICAgIHZhciB0ZW1wID0gdGhpcy5mb3JtOwogICAgICB2YXIgdGFyZ2V0X2xpc3QgPSB0ZW1wLnRhcmdldF9saXN0LnNwbGl0KCdcbicpOwogICAgICB2YXIgdGxpc3QgPSBbXTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0X2xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgaXRlbSA9IHRhcmdldF9saXN0W2ldLnRyaW0oKTsKCiAgICAgICAgaWYgKGl0ZW0gIT0gIiIpIHsKICAgICAgICAgIHRsaXN0LnB1c2goaXRlbSk7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBkZXNjcmlwdGlvbjogdGVtcC5kZXNjcmlwdGlvbiwKICAgICAgICBzY2FuX3R5cGU6IHRlbXAuc2Nhbl90eXBlLAogICAgICAgIHRhcmdldF9saXN0OiB0bGlzdCwKICAgICAgICB0YXNrX25hbWU6IHRlbXAudGFza19uYW1lCiAgICAgIH07CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpOyAvLzIu6LCDQVBJ5o6l5Y+jCgogICAgICBBZGRUYXNrKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLnN1Ym1pdEJ0bkRpc2FibGVkID0gZmFsc2U7CgogICAgICAgIF90aGlzMi5jbGVhckZvcm1EYXRhKCk7CgogICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICBtZXNzYWdlOiAi5re75Yqg5oiQ5YqfIiArIHJlc3BvbnNlLmVycm1zZyArIHJlc3BvbnNlLmRhdGEudGFza19pZCwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuc3VibWl0QnRuRGlzYWJsZWQgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMyLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICJGYWlsZWQiLAogICAgICAgICAgbWVzc2FnZTogIua3u+WKoOWksei0pSIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgZHVyYXRpb246IDUwMDAKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q5Lqk5oiQ5Yqf5riF56m65b2T5YmN6aG16Z2i5pWw5o2uCiAgICBjbGVhckZvcm1EYXRhOiBmdW5jdGlvbiBjbGVhckZvcm1EYXRhKCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgYXJnczogIiIsCiAgICAgICAgcmVjdXJzaW9uOiAwLAogICAgICAgIHRhcmdldF9saXN0OiAiIiwKICAgICAgICB0YXNrX25hbWU6ICIiLAogICAgICAgIHNlcnZpY2U6IFtdCiAgICAgIH07CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["task.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"mixin-components-container\">\n    <el-row>\n      <el-card class=\"box-card\">\n        <div slot=\"header\" class=\"clearfix\">\n          <span>{{title}}</span>\n        </div>\n        <div style=\"margin-bottom:50px;\">\n          <el-form ref=\"form\" :model=\"form\" label-width=\"140px\">\n            <el-form-item label=\"任务名\" class=\"is-required\">\n              <el-input v-model=\"form.task_name\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"任务目标\" class=\"is-required\">\n              <el-input type=\"textarea\" v-model=\"form.target_list\" :autosize=\"{ minRows: 3, maxRows: 6}\" placeholder=\"格式:http://example.com,多条换行\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"扫描类型\">\n              <el-select v-model=\"form.scan_type\" placeholder=\"请选择\" style=\"width:200px\">\n                <el-option label=\"完全扫描\" value=\"0\"></el-option>\n                <el-option label=\"高危扫描\" value=\"1\"></el-option>\n                <el-option label=\"XSS检测\" value=\"2\"></el-option>\n                <el-option label=\"SQL注入\" value=\"3\"></el-option>\n                <el-option label=\"弱口令检测\" value=\"4\"></el-option>\n                <el-option label=\"仅用爬虫\" value=\"5\"></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"备注信息\">\n              <el-input v-model=\"form.description\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button type=\"primary\" :disabled=\"submitBtnDisabled\" @click=\"onSubmit()\">立即创建</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { AddTask } from \"@/api/web_vul\"\nexport default {\n  data() {\n    return {\n      submitBtnDisabled: false,\n      title: \"创建任务\",\n      form: {\n        description: \"\",\n        scan_type: \"0\",\n        target_list: \"\",\n        task_name: \"\",\n      },\n    };\n  },\n  methods: {\n    // 表格格式检查\n    formCheck() {\n      if (this.form.task_name.trim() == \"\") { this.$message({ message: \"任务名必填\", type: \"warning\" }); return false }\n      if (this.form.target_list.trim() == \"\") { this.$message({ message: \"任务目标必填\", type: \"warning\" }); return false }\n      return true\n    },\n    // 关闭子页\n    closeChildPage() {\n      this.$router.go(-1)\n      this.$store.state.tagsView.visitedViews.splice(this.$store.state.tagsView.visitedViews.findIndex(item => item.path === this.$route.path), 1)\n      this.$router.push(this.$store.state.tagsView.visitedViews[this.$store.state.tagsView.visitedViews.length - 1].path)\n    },\n    //创建任务\n    onSubmit() {\n      if (!this.formCheck()) { return }\n    //   this.submitBtnDisabled = true\n      //1.组装数据\n      console.log(this.form)\n      let temp = this.form\n      let target_list = temp.target_list.split('\\n')\n      let tlist = []\n      \n      for (let i=0; i<target_list.length; i++){\n          let item = target_list[i].trim()\n          if (item != \"\"){\n              tlist.push(item)\n          }\n      }\n      let data = {\n        description: temp.description, \n        scan_type: temp.scan_type,\n        target_list: tlist,\n        task_name: temp.task_name,\n      }\n      console.log(data)\n      //2.调API接口\n      AddTask(data).then((response) => {\n        this.submitBtnDisabled = false;\n        this.clearFormData();\n        this.$notify({ title: \"Success\", message: \"添加成功\" + response.errmsg + response.data.task_id, type: \"success\", duration: 5000, });\n      }).catch(() => {\n        this.submitBtnDisabled = false;\n        this.$notify({title: \"Failed\", message: \"添加失败\", type: \"error\", duration: 5000});\n      });\n    },\n    // 提交成功清空当前页面数据\n    clearFormData() {\n      this.form = { args: \"\", recursion: 0, target_list: \"\", task_name: \"\", service: [] }\n    },\n  }\n}\n</script>\n\n<style>\n.mixin-components-container {\n  background-color: #f0f2f5;\n  padding: 30px;\n  min-height: calc(100vh - 84px);\n}\n.text {\n  font-size: 14px;\n}\n.clearfix:before,\n.clearfix:after {\n  display: table;\n  content: \"\";\n}\n.clearfix:after {\n  clear: both;\n}\n.box-card-in {\n  width: 60%;\n}\n.dump-box {\n  font-weight: 700;\n  color: #606266;\n}\n</style>"],"sourceRoot":"src/views/web-vul"}]}