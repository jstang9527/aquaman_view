{"remainingRequest":"/home/views/opentest_view/node_modules/babel-loader/lib/index.js!/home/views/opentest_view/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/views/opentest_view/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/views/opentest_view/src/views/chain/build_stream.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/views/opentest_view/src/views/chain/build_stream.vue","mtime":1597308280863},{"path":"/home/views/opentest_view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/views/opentest_view/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/views/opentest_view/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/views/opentest_view/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEbmRMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9EbmRMaXN0JzsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL1BhZ2luYXRpb24iOwppbXBvcnQgeyBibG9ja0xpc3QsIGNoYWluQWRkU3RyZWFtIH0gZnJvbSAiQC9hcGkvY2hhaW4iOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RuZExpc3REZW1vJywKICBjb21wb25lbnRzOiB7CiAgICBEbmRMaXN0OiBEbmRMaXN0LAogICAgUGFnaW5hdGlvbjogUGFnaW5hdGlvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxpc3QxOiBbXSwKICAgICAgLy97IGlkOiAxLCBhdXRob3I6ICJ4eHgiLCB0aXRsZTogImFkcyIgfQogICAgICBsaXN0MjogW10sCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIHBhZ2Vfbm86IDEsCiAgICAgICAgcGFnZV9zaXplOiAyMCwKICAgICAgICBpbmZvOiAiIgogICAgICB9LAogICAgICB0b3RhbDogMCwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZGlhbG9nRGF0YTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIGRlc2M6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7CiAgICAgIGJsb2NrTGlzdCh0aGlzLmxpc3RRdWVyeSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5saXN0MiA9IHJlc3BvbnNlLmRhdGEubGlzdDsKICAgICAgICBfdGhpcy5saXN0MSA9IFtfdGhpcy5saXN0MltfdGhpcy5saXN0Mi5sZW5ndGggLSAxXV07CiAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS5kYXRhLnRvdGFsOwogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9LCAxLjUgKiAxMDAwKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/mj5DkuqTooYzkuLrpk74KICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdCgpIHsKICAgICAgaWYgKHRoaXMubGlzdDEubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLmtYHmsLTnur/mmK/nqbrnmoQiLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdDEpCgoKICAgICAgdGhpcy5kaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8vIOaPkOS6pGRpYWxvZwogICAgb25Db25maXJtOiBmdW5jdGlvbiBvbkNvbmZpcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuZGlhbG9nRGF0YS5uYW1lID09ICIiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiAi57q/5ZCN5LiN6IO95Li656m6IiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyDnu4Too4VkYXRh5pWw57uECgoKICAgICAgdmFyIGJsb2NrSURMaXN0ID0gW107CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGlzdDEubGVuZ3RoOyBpKyspIHsKICAgICAgICBibG9ja0lETGlzdC5wdXNoKHRoaXMubGlzdDFbaV0uaWQpOwogICAgICB9CgogICAgICB2YXIgcG9zdERhdGEgPSB7CiAgICAgICAgc3RyZWFtX25hbWU6IHRoaXMuZGlhbG9nRGF0YS5uYW1lLAogICAgICAgIHN0cmVhbV9kZXNjOiB0aGlzLmRpYWxvZ0RhdGEuZGVzYywKICAgICAgICBibG9ja19saXN0OiBibG9ja0lETGlzdAogICAgICB9OyAvLyArKysrKyBBUEnmjqXlj6MKCiAgICAgIGNoYWluQWRkU3RyZWFtKHBvc3REYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAiU3VjY2VzcyIsCiAgICAgICAgICBtZXNzYWdlOiAiQ3JlYXRlIFN1Y2Nlc3NmdWxseSIgKyByZXNwb25zZS5kYXRhLmVycm1zZywKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgIGR1cmF0aW9uOiA0MDAwCiAgICAgICAgfSk7CgogICAgICAgIF90aGlzMi5kaWFsb2cgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiAiRXJyb3IiLAogICAgICAgICAgbWVzc2FnZTogIlNlcnZlciBpbnRlcnZhbCBlcnJvciIsCiAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgIGR1cmF0aW9uOiA1MDAwCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iGRpYWxvZwogICAgY2FuY2VsQ29uZmlybTogZnVuY3Rpb24gY2FuY2VsQ29uZmlybSgpIHsKICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["build_stream.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"components-container\">\n    <div class=\"editor-container\">\n      <dnd-list :list1=\"list1\" :list2=\"list2\" list1-title=\"流水组装\" list2-title=\"组件工厂\" />\n    </div>\n    <div>\n      <el-button type=\"primary\" @click=\"onSubmit\" size=\"small\">立即构建</el-button>\n      <pagination v-show=\"total>0\" :total=\"total\" :page.sync=\"listQuery.page_no\" :limit.sync=\"listQuery.page_size\" @pagination=\"getData\" style=\"float:right;\" class=\"pagination-container pagination-container[data-v-72233bcd]\" />\n    </div>\n    <!--弹出组件-->\n    <el-dialog title=\"配置信息\" :visible.sync=\"dialog\">\n      <el-form ref=\"dataForm\" :model=\"dialogData\" label-position=\"left\" label-width=\"120px\" style=\"width: 400px; margin-left:50px;\">\n        <el-form-item label=\"线名\" class=\"is-required\" style=\"width:500px;\">\n          <el-input v-model=\"dialogData.name\" />\n        </el-form-item>\n        <el-form-item label=\"描述/备注\" class=\"is-required\" style=\"width:500px;\">\n          <el-input v-model=\"dialogData.desc\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancelConfirm()\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"onConfirm()\">Confirm</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport DndList from '@/components/DndList'\nimport Pagination from \"@/components/Pagination\";\nimport { blockList, chainAddStream } from \"@/api/chain\"\n\nexport default {\n  name: 'DndListDemo',\n  components: { DndList, Pagination },\n  data() {\n    return {\n      list1: [], //{ id: 1, author: \"xxx\", title: \"ads\" }\n      list2: [],\n      listQuery: { page_no: 1, page_size: 20, info: \"\", },\n      total: 0,\n      dialog: false,\n      dialogData: {\n        name: \"\",\n        desc: \"\"\n      }\n    }\n  },\n  created() {\n    this.getData()\n  },\n  methods: {\n    getData() {\n      this.listLoading = true\n      blockList(this.listQuery).then((response) => {\n        this.list2 = response.data.list\n        this.list1 = [this.list2[this.list2.length - 1]]\n        this.total = response.data.total;\n        setTimeout(() => { this.listLoading = false; }, 1.5 * 1000);\n      });\n    },\n    //提交行为链\n    onSubmit() {\n      if (this.list1.length == 0) { this.$message({ message: \"流水线是空的\", type: 'warning' }); return }\n      // console.log(this.list1)\n      this.dialog = true\n    },\n    // 提交dialog\n    onConfirm() {\n      if (this.dialogData.name == \"\") {\n        this.$message({ message: \"线名不能为空\", type: \"warning\" })\n        return\n      }\n      // 组装data数组\n      let blockIDList = []\n      for (let i = 0; i < this.list1.length; i++) {\n        blockIDList.push(this.list1[i].id)\n      }\n      let postData = { stream_name: this.dialogData.name, stream_desc: this.dialogData.desc, block_list: blockIDList }\n      // +++++ API接口\n      chainAddStream(postData).then((response) => {\n        this.$notify({ title: \"Success\", message: \"Create Successfully\" + response.data.errmsg, type: \"success\", duration: 4000, });\n        this.dialog = false\n      }).catch(() => {\n        this.$notify({\n          title: \"Error\", message: \"Server interval error\", type: \"danger\", duration: 5000,\n        });\n      });\n    },\n    // 取消dialog\n    cancelConfirm() {\n      this.dialog = false\n    }\n  }\n}\n</script>\n\n<style>\n.pagination-container {\n  margin-top: 0px;\n}\n.pagination-container[data-v-72233bcd] {\n  padding: 0px;\n}\n</style>"],"sourceRoot":"src/views/chain"}]}